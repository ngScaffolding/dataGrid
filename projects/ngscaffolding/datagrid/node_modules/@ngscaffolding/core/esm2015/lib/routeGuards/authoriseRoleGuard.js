import { Injectable } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "../services/userAuthentication/UserAuthenticationBase";
import * as i2 from "@angular/router";
import * as i3 from "../services/rolesService/roles.service";
export class AuthoriseRoleGuard {
    constructor(authService, router, rolesService) {
        this.authService = authService;
        this.router = router;
        this.rolesService = rolesService;
    }
    canActivate(route, state) {
        if (this.authService.isAuthenticated()) {
            return true;
        }
        // No authority, bye bye.
        this.authService.forceLogon(state.url);
        return false;
    }
}
AuthoriseRoleGuard.ɵfac = function AuthoriseRoleGuard_Factory(t) { return new (t || AuthoriseRoleGuard)(i0.ɵɵinject(i1.UserAuthenticationBase), i0.ɵɵinject(i2.Router), i0.ɵɵinject(i3.RolesService)); };
AuthoriseRoleGuard.ɵprov = i0.ɵɵdefineInjectable({ token: AuthoriseRoleGuard, factory: AuthoriseRoleGuard.ɵfac });
/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(AuthoriseRoleGuard, [{
        type: Injectable
    }], function () { return [{ type: i1.UserAuthenticationBase }, { type: i2.Router }, { type: i3.RolesService }]; }, null); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXV0aG9yaXNlUm9sZUd1YXJkLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uLy4uL3Byb2plY3RzL25nc2NhZmZvbGRpbmcvY29yZS9zcmMvIiwic291cmNlcyI6WyJsaWIvcm91dGVHdWFyZHMvYXV0aG9yaXNlUm9sZUd1YXJkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU1BLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7Ozs7O0FBSzNDLE1BQU0sT0FBTyxrQkFBa0I7SUFDN0IsWUFDVSxXQUFtQyxFQUNuQyxNQUFjLEVBQ2QsWUFBMEI7UUFGMUIsZ0JBQVcsR0FBWCxXQUFXLENBQXdCO1FBQ25DLFdBQU0sR0FBTixNQUFNLENBQVE7UUFDZCxpQkFBWSxHQUFaLFlBQVksQ0FBYztJQUNqQyxDQUFDO0lBRUosV0FBVyxDQUFDLEtBQTZCLEVBQUUsS0FBMEI7UUFFbkUsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsRUFBRSxFQUFFO1lBQ3RDLE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFFRCx5QkFBeUI7UUFDekIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZDLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQzs7b0ZBaEJVLGtCQUFrQjswREFBbEIsa0JBQWtCLFdBQWxCLGtCQUFrQjtrREFBbEIsa0JBQWtCO2NBRDlCLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIENhbkFjdGl2YXRlLFxyXG4gIFJvdXRlcixcclxuICBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LFxyXG4gIFJvdXRlclN0YXRlU25hcHNob3RcclxufSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xyXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFJvbGVzU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL3JvbGVzU2VydmljZS9yb2xlcy5zZXJ2aWNlJztcclxuaW1wb3J0IHsgVXNlckF1dGhlbnRpY2F0aW9uQmFzZSB9IGZyb20gJy4uL3NlcnZpY2VzL3VzZXJBdXRoZW50aWNhdGlvbi9Vc2VyQXV0aGVudGljYXRpb25CYXNlJztcclxuXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIEF1dGhvcmlzZVJvbGVHdWFyZCBpbXBsZW1lbnRzIENhbkFjdGl2YXRlIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgYXV0aFNlcnZpY2U6IFVzZXJBdXRoZW50aWNhdGlvbkJhc2UsXHJcbiAgICBwcml2YXRlIHJvdXRlcjogUm91dGVyLFxyXG4gICAgcHJpdmF0ZSByb2xlc1NlcnZpY2U6IFJvbGVzU2VydmljZVxyXG4gICkge31cclxuXHJcbiAgY2FuQWN0aXZhdGUocm91dGU6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIHN0YXRlOiBSb3V0ZXJTdGF0ZVNuYXBzaG90KSB7XHJcblxyXG4gICAgaWYgKHRoaXMuYXV0aFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCkpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gYXV0aG9yaXR5LCBieWUgYnllLlxyXG4gICAgdGhpcy5hdXRoU2VydmljZS5mb3JjZUxvZ29uKHN0YXRlLnVybCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcbiJdfQ==
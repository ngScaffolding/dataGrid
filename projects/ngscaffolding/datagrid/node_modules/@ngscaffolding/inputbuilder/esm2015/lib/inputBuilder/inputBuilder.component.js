import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy, ViewChildren } from '@angular/core';
import { of, forkJoin } from 'rxjs';
import { FormGroup, FormControl, Validators } from '@angular/forms';
import { JsonEditorOptions } from 'ang-jsoneditor';
import { tap, debounceTime, distinctUntilChanged } from 'rxjs/operators';
import { AppSettings, ZuluDateHelper, ReferenceValue, InputTypes, ObjectPathHelper } from '@ngscaffolding/models';
import * as i0 from "@angular/core";
import * as i1 from "@ngscaffolding/core";
import * as i2 from "@angular/common";
import * as i3 from "@angular/forms";
import * as i4 from "primeng/inputtext";
import * as i5 from "primeng/password";
import * as i6 from "primeng/keyfilter";
import * as i7 from "primeng/slider";
import * as i8 from "primeng/inputmask";
import * as i9 from "primeng/spinner";
import * as i10 from "primeng/inputtextarea";
import * as i11 from "primeng/checkbox";
import * as i12 from "primeng/dropdown";
import * as i13 from "primeng/autocomplete";
import * as i14 from "primeng/chips";
import * as i15 from "primeng/multiselect";
import * as i16 from "primeng/inputswitch";
import * as i17 from "primeng/calendar";
import * as i18 from "ang-jsoneditor";
import * as i19 from "primeng/fileupload";
import * as i20 from "primeng/button";
import * as i21 from "primeng/tooltip";
import * as i22 from "@ngx-translate/core";
const _c0 = ["dropDown"];
function InputBuilderComponent_form_0_div_1_span_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "span", 13);
} }
function InputBuilderComponent_form_0_div_1_span_3_input_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "input", 16);
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext(2).$implicit;
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("formControlName", input_r3.name)("id", input_r3.name);
} }
function InputBuilderComponent_form_0_div_1_span_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵtemplate(1, InputBuilderComponent_form_0_div_1_span_3_input_1_Template, 1, 3, "input", 14);
    i0.ɵɵelementStart(2, "label", 15);
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r5 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", !input_r3.mask);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("for", input_r3.name);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r5.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_4_input_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "input", 18);
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext(2).$implicit;
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("formControlName", input_r3.name)("id", input_r3.name);
} }
function InputBuilderComponent_form_0_div_1_span_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵtemplate(1, InputBuilderComponent_form_0_div_1_span_4_input_1_Template, 1, 3, "input", 17);
    i0.ɵɵelementStart(2, "label", 15);
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r6 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", !input_r3.mask);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("for", input_r3.name);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r6.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_5_input_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "input", 20);
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext(2).$implicit;
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("formControlName", input_r3.name)("id", input_r3.name);
} }
function InputBuilderComponent_form_0_div_1_span_5_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵtemplate(1, InputBuilderComponent_form_0_div_1_span_5_input_1_Template, 1, 3, "input", 19);
    i0.ɵɵelementStart(2, "label");
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r7 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", !input_r3.mask);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r7.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_6_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelement(1, "input", 21);
    i0.ɵɵelementStart(2, "label");
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r8 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("formControlName", input_r3.name)("id", input_r3.name);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r8.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_7_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelement(1, "p-slider", 22);
    i0.ɵɵelementStart(2, "label");
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r9 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("formControlName", input_r3.name)("id", input_r3.name)("min", input_r3.min)("max", input_r3.max)("step", input_r3.step);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r9.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_8_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span");
    i0.ɵɵelement(1, "p-inputMask", 23);
    i0.ɵɵelementStart(2, "label");
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r10 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("mask", input_r3.mask)("id", input_r3.name)("formControl", ctx_r10.form.controls[input_r3.name]);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r10.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_9_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span");
    i0.ɵɵelement(1, "p-spinner", 24);
    i0.ɵɵelementStart(2, "label");
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r11 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("id", input_r3.name)("min", input_r3.min)("max", input_r3.max)("formControl", ctx_r11.form.controls[input_r3.name]);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r11.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_10_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelement(1, "textarea", 25);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("rows", input_r3.rows)("placeholder", input_r3.label)("formControlName", input_r3.name);
} }
function InputBuilderComponent_form_0_div_1_span_11_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span");
    i0.ɵɵelement(1, "p-checkbox", 26);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r13 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("label", input_r3.label)("id", input_r3.name)("formControl", ctx_r13.form.controls[input_r3.name]);
} }
const _c1 = function () { return { width: "100%" }; };
function InputBuilderComponent_form_0_div_1_span_12_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelement(1, "p-dropdown", 27, 28);
    i0.ɵɵelementStart(3, "label", 15);
    i0.ɵɵtext(4);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r14 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(9, _c1));
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("id", input_r3.name)("options", ctx_r14.dataSourceLookup[input_r3.name])("filter", input_r3.selectFilter)("formControlName", input_r3.name);
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("for", input_r3.name);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r14.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_13_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelement(1, "p-dropdown", 29, 28);
    i0.ɵɵelementStart(3, "label", 15);
    i0.ɵɵtext(4);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r15 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(9, _c1));
    i0.ɵɵproperty("id", input_r3.name)("options", ctx_r15.dataSourceLookup[input_r3.name])("filter", input_r3.selectFilter)("tabindex", input_r3.tabindex)("formControlName", input_r3.name);
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("for", input_r3.name);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r15.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_p_autoComplete_14_Template(rf, ctx) { if (rf & 1) {
    const _r52 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "p-autoComplete", 30);
    i0.ɵɵlistener("completeMethod", function InputBuilderComponent_form_0_div_1_p_autoComplete_14_Template_p_autoComplete_completeMethod_0_listener($event) { i0.ɵɵrestoreView(_r52); const input_r3 = i0.ɵɵnextContext().$implicit; const ctx_r50 = i0.ɵɵnextContext(2); return ctx_r50.searchAutoComplete($event, input_r3); });
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r16 = i0.ɵɵnextContext(2);
    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(7, _c1));
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("dropdown", true)("formControlName", input_r3.name)("suggestions", ctx_r16.dataSourceLookup[input_r3.name])("placeholder", ctx_r16.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_15_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelement(1, "p-chips", 31);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("id", input_r3.name)("placeholder", input_r3.label)("formControlName", input_r3.name);
} }
function InputBuilderComponent_form_0_div_1_span_16_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelement(1, "p-multiSelect", 32);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r18 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("id", input_r3.name)("filterPlaceHolder", input_r3.name)("formControlName", input_r3.name)("filter", false)("options", ctx_r18.dataSourceLookup[input_r3.name]);
} }
function InputBuilderComponent_form_0_div_1_span_17_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span");
    i0.ɵɵelement(1, "p-inputSwitch", 33);
    i0.ɵɵelementStart(2, "label", 34);
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r19 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("id", input_r3.name)("formControlName", input_r3.name);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r19.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_18_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelement(1, "p-calendar", 35);
    i0.ɵɵpipe(2, "async");
    i0.ɵɵpipe(3, "async");
    i0.ɵɵpipe(4, "async");
    i0.ɵɵelementStart(5, "label");
    i0.ɵɵtext(6);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r20 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("showButtonBar", i0.ɵɵpipeBind1(2, 7, ctx_r20.appSettings.getBoolean("inputDateShowButtonBar")))("showIcon", i0.ɵɵpipeBind1(3, 9, ctx_r20.appSettings.getBoolean("inputShowCalendarIcon")))("dateFormat", i0.ɵɵpipeBind1(4, 11, ctx_r20.appSettings.getString("inputDateFormat")))("formControlName", input_r3.name)("id", input_r3.name);
    i0.ɵɵadvance(5);
    i0.ɵɵtextInterpolate(ctx_r20.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_19_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelement(1, "p-calendar", 35);
    i0.ɵɵpipe(2, "async");
    i0.ɵɵpipe(3, "async");
    i0.ɵɵpipe(4, "async");
    i0.ɵɵelementStart(5, "label");
    i0.ɵɵtext(6);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r21 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("showButtonBar", i0.ɵɵpipeBind1(2, 7, ctx_r21.appSettings.getBoolean("inputDateShowButtonBar")))("showIcon", i0.ɵɵpipeBind1(3, 9, ctx_r21.appSettings.getBoolean("inputShowCalendarIcon")))("dateFormat", i0.ɵɵpipeBind1(4, 11, ctx_r21.appSettings.getString("inputDateFormat")))("formControlName", input_r3.name)("id", input_r3.name);
    i0.ɵɵadvance(5);
    i0.ɵɵtextInterpolate(ctx_r21.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_20_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelement(1, "p-calendar", 36);
    i0.ɵɵpipe(2, "async");
    i0.ɵɵpipe(3, "async");
    i0.ɵɵpipe(4, "async");
    i0.ɵɵelementStart(5, "label");
    i0.ɵɵtext(6);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r22 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("showButtonBar", i0.ɵɵpipeBind1(2, 7, ctx_r22.appSettings.getBoolean("inputDateShowButtonBar")))("showIcon", i0.ɵɵpipeBind1(3, 9, ctx_r22.appSettings.getBoolean("inputShowCalendarIcon")))("dateFormat", i0.ɵɵpipeBind1(4, 11, ctx_r22.appSettings.getString("inputDateFormat")))("formControlName", input_r3.name)("id", input_r3.name);
    i0.ɵɵadvance(5);
    i0.ɵɵtextInterpolate(ctx_r22.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_21_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelement(1, "p-calendar", 37);
    i0.ɵɵpipe(2, "async");
    i0.ɵɵpipe(3, "async");
    i0.ɵɵelementStart(4, "label");
    i0.ɵɵtext(5);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r23 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("showButtonBar", i0.ɵɵpipeBind1(2, 6, ctx_r23.appSettings.getBoolean("inputDateShowButtonBar")))("showIcon", i0.ɵɵpipeBind1(3, 8, ctx_r23.appSettings.getBoolean("inputShowCalendarIcon")))("formControlName", input_r3.name)("id", input_r3.name);
    i0.ɵɵadvance(4);
    i0.ɵɵtextInterpolate(ctx_r23.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_22_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelement(1, "json-editor", 38);
    i0.ɵɵelementStart(2, "label");
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r24 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("options", ctx_r24.editorOptions)("data", input_r3.value);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r24.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_23_Template(rf, ctx) { if (rf & 1) {
    const _r64 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelementStart(1, "p-fileUpload", 39);
    i0.ɵɵlistener("uploadHandler", function InputBuilderComponent_form_0_div_1_span_23_Template_p_fileUpload_uploadHandler_1_listener($event) { i0.ɵɵrestoreView(_r64); const input_r3 = i0.ɵɵnextContext().$implicit; const ctx_r62 = i0.ɵɵnextContext(2); return ctx_r62.attachFiles($event, input_r3); });
    i0.ɵɵpipe(2, "translate");
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r25 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵpropertyInterpolate("chooseLabel", i0.ɵɵpipeBind1(2, 4, "Choose File"));
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("accept", input_r3.accept || ctx_r25.allowedFileTypes)("maxFileSize", input_r3.maxFileSize || ctx_r25.maxFileSize);
} }
function InputBuilderComponent_form_0_div_1_div_24_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 40);
    i0.ɵɵelementStart(1, "span", 13);
    i0.ɵɵelement(2, "input", 41);
    i0.ɵɵelementStart(3, "label");
    i0.ɵɵtext(4);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelement(5, "button", 42);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r26 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("formControlName", input_r3.name)("id", input_r3.name);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r26.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_25_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelementStart(1, "div", 43);
    i0.ɵɵtext(2);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r27 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("id", input_r3.name);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r27.loadComponent(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_26_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 13);
    i0.ɵɵelement(1, "input", 44);
    i0.ɵɵelementStart(2, "label");
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r28 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tabindex", input_r3.tabindex)("formControlName", input_r3.name)("id", input_r3.name);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r28.getLabel(input_r3));
} }
function InputBuilderComponent_form_0_div_1_span_27_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 45);
    i0.ɵɵelement(1, "i", 46);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵpropertyInterpolate("pTooltip", input_r3.help);
} }
function InputBuilderComponent_form_0_div_1_div_28_div_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div");
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext(2).$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", input_r3.validateRequired, " ");
} }
function InputBuilderComponent_form_0_div_1_div_28_div_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div");
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext(2).$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", input_r3.validateRequiredTrue, " ");
} }
function InputBuilderComponent_form_0_div_1_div_28_div_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div");
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext(2).$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", input_r3.validateEmail, " ");
} }
function InputBuilderComponent_form_0_div_1_div_28_div_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div");
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext(2).$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", input_r3.validatePatternMessage, " ");
} }
function InputBuilderComponent_form_0_div_1_div_28_div_5_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div");
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext(2).$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", input_r3.validateMinLengthMessage, " ");
} }
function InputBuilderComponent_form_0_div_1_div_28_div_6_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div");
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext(2).$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", input_r3.validateMaxLengthMessage, " ");
} }
function InputBuilderComponent_form_0_div_1_div_28_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 47);
    i0.ɵɵtemplate(1, InputBuilderComponent_form_0_div_1_div_28_div_1_Template, 2, 1, "div", 48);
    i0.ɵɵtemplate(2, InputBuilderComponent_form_0_div_1_div_28_div_2_Template, 2, 1, "div", 48);
    i0.ɵɵtemplate(3, InputBuilderComponent_form_0_div_1_div_28_div_3_Template, 2, 1, "div", 48);
    i0.ɵɵtemplate(4, InputBuilderComponent_form_0_div_1_div_28_div_4_Template, 2, 1, "div", 48);
    i0.ɵɵtemplate(5, InputBuilderComponent_form_0_div_1_div_28_div_5_Template, 2, 1, "div", 48);
    i0.ɵɵtemplate(6, InputBuilderComponent_form_0_div_1_div_28_div_6_Template, 2, 1, "div", 48);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = i0.ɵɵnextContext().$implicit;
    const ctx_r30 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r30.form.get(input_r3.name).errors.required);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r30.form.get(input_r3.name).errors.requiredTrue);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r30.form.get(input_r3.name).errors.email);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r30.form.get(input_r3.name).errors.pattern);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r30.form.get(input_r3.name).errors.minlength);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r30.form.get(input_r3.name).errors.maxlength);
} }
function InputBuilderComponent_form_0_div_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 4);
    i0.ɵɵelementStart(1, "div", 5);
    i0.ɵɵtemplate(2, InputBuilderComponent_form_0_div_1_span_2_Template, 1, 0, "span", 6);
    i0.ɵɵtemplate(3, InputBuilderComponent_form_0_div_1_span_3_Template, 4, 3, "span", 6);
    i0.ɵɵtemplate(4, InputBuilderComponent_form_0_div_1_span_4_Template, 4, 3, "span", 6);
    i0.ɵɵtemplate(5, InputBuilderComponent_form_0_div_1_span_5_Template, 4, 2, "span", 6);
    i0.ɵɵtemplate(6, InputBuilderComponent_form_0_div_1_span_6_Template, 4, 4, "span", 6);
    i0.ɵɵtemplate(7, InputBuilderComponent_form_0_div_1_span_7_Template, 4, 7, "span", 6);
    i0.ɵɵtemplate(8, InputBuilderComponent_form_0_div_1_span_8_Template, 4, 5, "span", 7);
    i0.ɵɵtemplate(9, InputBuilderComponent_form_0_div_1_span_9_Template, 4, 6, "span", 7);
    i0.ɵɵtemplate(10, InputBuilderComponent_form_0_div_1_span_10_Template, 2, 4, "span", 6);
    i0.ɵɵtemplate(11, InputBuilderComponent_form_0_div_1_span_11_Template, 2, 4, "span", 7);
    i0.ɵɵtemplate(12, InputBuilderComponent_form_0_div_1_span_12_Template, 5, 10, "span", 6);
    i0.ɵɵtemplate(13, InputBuilderComponent_form_0_div_1_span_13_Template, 5, 10, "span", 6);
    i0.ɵɵtemplate(14, InputBuilderComponent_form_0_div_1_p_autoComplete_14_Template, 1, 8, "p-autoComplete", 8);
    i0.ɵɵtemplate(15, InputBuilderComponent_form_0_div_1_span_15_Template, 2, 4, "span", 6);
    i0.ɵɵtemplate(16, InputBuilderComponent_form_0_div_1_span_16_Template, 2, 6, "span", 6);
    i0.ɵɵtemplate(17, InputBuilderComponent_form_0_div_1_span_17_Template, 4, 4, "span", 7);
    i0.ɵɵtemplate(18, InputBuilderComponent_form_0_div_1_span_18_Template, 7, 13, "span", 6);
    i0.ɵɵtemplate(19, InputBuilderComponent_form_0_div_1_span_19_Template, 7, 13, "span", 6);
    i0.ɵɵtemplate(20, InputBuilderComponent_form_0_div_1_span_20_Template, 7, 13, "span", 6);
    i0.ɵɵtemplate(21, InputBuilderComponent_form_0_div_1_span_21_Template, 6, 10, "span", 6);
    i0.ɵɵtemplate(22, InputBuilderComponent_form_0_div_1_span_22_Template, 4, 4, "span", 6);
    i0.ɵɵtemplate(23, InputBuilderComponent_form_0_div_1_span_23_Template, 3, 6, "span", 6);
    i0.ɵɵtemplate(24, InputBuilderComponent_form_0_div_1_div_24_Template, 6, 4, "div", 9);
    i0.ɵɵtemplate(25, InputBuilderComponent_form_0_div_1_span_25_Template, 3, 2, "span", 6);
    i0.ɵɵtemplate(26, InputBuilderComponent_form_0_div_1_span_26_Template, 4, 4, "span", 10);
    i0.ɵɵelementEnd();
    i0.ɵɵtemplate(27, InputBuilderComponent_form_0_div_1_span_27_Template, 2, 1, "span", 11);
    i0.ɵɵtemplate(28, InputBuilderComponent_form_0_div_1_div_28_Template, 7, 6, "div", 12);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const input_r3 = ctx.$implicit;
    const ctx_r1 = i0.ɵɵnextContext(2);
    let tmp_29_0 = null;
    i0.ɵɵclassProp("noPadding", ctx_r1.inputBuilderDefinition.inputLocation === "inline");
    i0.ɵɵproperty("className", ctx_r1.controlStyle);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitch", input_r3.type)("className", ctx_r1.getContainerClass(input_r3));
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "null");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "textbox");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "password");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "email");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "number");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "slider");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "mask");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "spinner");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "textarea");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "checkbox");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "dropdown");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "dropdownobject");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "autocomplete");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "chips");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "multiselect");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "switch");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "datetime");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "datetimeUTC");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "date");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "time");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "json");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "fileattach");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "search");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "dynamic");
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngIf", input_r3.help);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ((tmp_29_0 = ctx_r1.form.get(input_r3.name)) == null ? null : tmp_29_0.invalid) && (((tmp_29_0 = ctx_r1.form.get(input_r3.name)) == null ? null : tmp_29_0.dirty) || ((tmp_29_0 = ctx_r1.form.get(input_r3.name)) == null ? null : tmp_29_0.touched) || ctx_r1.formSubmitted));
} }
function InputBuilderComponent_form_0_div_2_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r87 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 51);
    i0.ɵɵelementStart(1, "button", 52);
    i0.ɵɵlistener("click", function InputBuilderComponent_form_0_div_2_div_1_Template_button_click_1_listener() { i0.ɵɵrestoreView(_r87); const ctx_r86 = i0.ɵɵnextContext(3); return ctx_r86.onCustom(); });
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r83 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵpropertyInterpolate("icon", ctx_r83.inputBuilderDefinition.customButtonIcon);
    i0.ɵɵpropertyInterpolate("label", ctx_r83.inputBuilderDefinition.customButtonText);
} }
function InputBuilderComponent_form_0_div_2_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r89 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 51);
    i0.ɵɵelementStart(1, "button", 53);
    i0.ɵɵlistener("click", function InputBuilderComponent_form_0_div_2_div_2_Template_button_click_1_listener() { i0.ɵɵrestoreView(_r89); const ctx_r88 = i0.ɵɵnextContext(3); return ctx_r88.onCancel(); });
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r84 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵpropertyInterpolate("icon", ctx_r84.inputBuilderDefinition.cancelButtonIcon);
    i0.ɵɵpropertyInterpolate("label", ctx_r84.inputBuilderDefinition.cancelButtonText);
} }
function InputBuilderComponent_form_0_div_2_div_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 51);
    i0.ɵɵelement(1, "button", 54);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r85 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵpropertyInterpolate("icon", ctx_r85.inputBuilderDefinition.okButtonIcon);
    i0.ɵɵpropertyInterpolate("label", ctx_r85.inputBuilderDefinition.okButtonText);
} }
function InputBuilderComponent_form_0_div_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 49);
    i0.ɵɵtemplate(1, InputBuilderComponent_form_0_div_2_div_1_Template, 2, 2, "div", 50);
    i0.ɵɵtemplate(2, InputBuilderComponent_form_0_div_2_div_2_Template, 2, 2, "div", 50);
    i0.ɵɵtemplate(3, InputBuilderComponent_form_0_div_2_div_3_Template, 2, 2, "div", 50);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.inputBuilderDefinition.customButtonText);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.inputBuilderDefinition.cancelButtonText);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.inputBuilderDefinition.okButtonText);
} }
function InputBuilderComponent_form_0_Template(rf, ctx) { if (rf & 1) {
    const _r91 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "form", 1);
    i0.ɵɵlistener("ngSubmit", function InputBuilderComponent_form_0_Template_form_ngSubmit_0_listener() { i0.ɵɵrestoreView(_r91); const ctx_r90 = i0.ɵɵnextContext(); return ctx_r90.onSubmit(ctx_r90.form); });
    i0.ɵɵtemplate(1, InputBuilderComponent_form_0_div_1_Template, 29, 31, "div", 2);
    i0.ɵɵtemplate(2, InputBuilderComponent_form_0_div_2_Template, 4, 3, "div", 3);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵclassProp("noPadding", ctx_r0.inputBuilderDefinition.inputLocation === "inline")("form-group", ctx_r0.inputBuilderDefinition.inputLocation !== "inline");
    i0.ɵɵproperty("formGroup", ctx_r0.form);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngForOf", ctx_r0.filteredInputDetails);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r0.inputBuilderDefinition.customButtonText || ctx_r0.inputBuilderDefinition.cancelButtonText || ctx_r0.inputBuilderDefinition.okButtonText);
} }
export class InputBuilderComponent {
    constructor(elementRef, ref, appSettings, appSettingsQuery, authQuery, refValuesService, componentLoader, authService) {
        this.elementRef = elementRef;
        this.ref = ref;
        this.appSettings = appSettings;
        this.appSettingsQuery = appSettingsQuery;
        this.authQuery = authQuery;
        this.refValuesService = refValuesService;
        this.componentLoader = componentLoader;
        this.authService = authService;
        this.modelUpdated = new EventEmitter();
        this.valueUpdated = new EventEmitter();
        this.fileAttached = new EventEmitter();
        this.okClicked = new EventEmitter();
        this.cancelClicked = new EventEmitter();
        this.formBuilt = false;
        this.controlStyle = 'p-col-12';
        this.containerClass = 'p-col-12'; // This changes to allow the help Icon
        this.formSubmitted = false;
        this.dataSourceLookup = {};
        this.editorOptions = new JsonEditorOptions();
        this.editorOptions.modes = ['code', 'text', 'tree', 'view']; // set all allowed modes
    }
    getLabel(input) {
        if (input.label) {
            return input.label;
        }
        else if (input.name) {
            return input.name.replace(/([A-Z]+)/g, ' $1').replace(/([A-Z][a-z])/g, ' $1');
        }
    }
    loadComponent(input) {
        this.componentLoader.loadComponent(input.angularComponent).then(element => {
            this.elementRef.nativeElement.querySelector(`#${input.name}`).appendChild(element);
        });
    }
    onSubmit(form) {
        this.formSubmitted = true;
        if (this.form.valid) {
            if (this.inputBuilderDefinition.okButtonCallBack) {
                this.inputBuilderDefinition.okButtonCallBack(this.clonedInputModel);
            }
            this.okClicked.emit([this.clonedInputModel, this.fileContent]);
        }
    }
    onCancel() {
        if (this.inputBuilderDefinition.cancelButtonCallBack) {
            this.inputBuilderDefinition.cancelButtonCallBack(this.clonedInputModel);
        }
        this.cancelClicked.emit();
    }
    onCustom() {
        if (this.inputBuilderDefinition.customButtonCallBack) {
            this.inputBuilderDefinition.customButtonCallBack(this.clonedInputModel);
        }
    }
    ngOnChanges(changes) {
        if (changes.inputModel && changes.inputModel.currentValue !== changes.inputModel.previousValue) {
            this.formBuilt = false;
        }
        if (changes.inputBuilderDefinition &&
            changes.inputBuilderDefinition.currentValue !== changes.inputBuilderDefinition.previousValue) {
            this.formBuilt = false;
        }
        this.buildForm();
    }
    decorateInputModel() {
        // Add in standard Values
        const currentUser = this.authQuery.getValue().userDetails;
        const now = new Date();
        this.clonedInputModel['now'] = now;
        this.clonedInputModel['zuluDate'] = new Date(Date.UTC(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours(), now.getMinutes(), now.getSeconds()));
        this.clonedInputModel['userId'] = currentUser.userId;
    }
    ngOnInit() {
        this.maxFileSize = this.appSettingsQuery.hasEntity(AppSettings.maximumFileSize)
            ? this.appSettingsQuery.getEntity(AppSettings.maximumFileSize).value
            : 999999;
        this.allowedFileTypes = this.appSettingsQuery.hasEntity(AppSettings.allowedFileTypes)
            ? this.appSettingsQuery.getEntity(AppSettings.allowedFileTypes).value
            : '';
    }
    getContainerClass(inputDetail) {
        return inputDetail.help ? 'p-col-11' : 'p-col-12';
    }
    attachFiles(event, input) {
        if (this.inputBuilderDefinition.loadFileContent) {
            if (event.files && event.files.length > 0) {
                for (const file of event.files) {
                    const fileReader = new FileReader();
                    fileReader.onload = () => {
                        // this 'text' is the content of the file
                        this.fileContent = fileReader.result.toString();
                        this.fileAttached.emit(this.fileContent);
                    };
                    fileReader.readAsText(file);
                }
            }
        }
        else {
            this.fieldChanged(input, event.files[0]);
        }
    }
    searchAutoComplete($event, input) {
        this.loadDataSource(input, $event.query).subscribe(data => {
            this.dataSourceLookup[input.name] = data.referenceValueItems;
            setTimeout(() => {
                this.ref.detectChanges();
            }, 50);
        });
    }
    getDefaultValue(value) {
        switch (value) {
            case 'today':
            case 'now':
                return ZuluDateHelper.getGMTDate(new Date());
                break;
            case 'yesterday': {
                const now = new Date();
                return ZuluDateHelper.getGMTDate(new Date(now.setDate(now.getDate() - 1)));
                break;
            }
            case 'tomorrow': {
                const now = new Date();
                return ZuluDateHelper.getGMTDate(new Date(now.setDate(now.getDate() + 1)));
                break;
            }
            default:
                return value;
                break;
        }
    }
    buildForm() {
        if (this.formBuilt || !this.inputBuilderDefinition || !this.inputModel) {
            return;
        }
        this.formBuilt = true;
        // Clone our inputModel
        this.clonedInputModel = Object.assign({}, this.inputModel);
        this.decorateInputModel();
        // Default to full width (changes if help found)
        this.containerClass = 'p-col-12';
        if (this.inputBuilderDefinition.orientation === "horizontal" /* Horizontal */ ||
            this.inputBuilderDefinition.inputLocation === "inline" /* INLINE */) {
            if (this.inputBuilderDefinition.columnCount > 0 && this.inputBuilderDefinition.columnCount < 5) {
                const colSize = 12 / this.inputBuilderDefinition.columnCount;
                this.controlStyle = `p-col-${colSize}`;
            }
        }
        else {
            this.controlStyle = 'p-col-12';
        }
        const formGroup = {};
        const localModel = {};
        const asyncGets = [];
        // Always have one to run
        asyncGets.push(of(new ReferenceValue()));
        if (this.inputBuilderDefinition.inputDetails) {
            this.filteredInputDetails = this.authService.filterItemsByRole(this.inputBuilderDefinition.inputDetails);
            for (const inputDetail of this.filteredInputDetails) {
                // Get value from model and apply to new FormControl
                let inputValue = null;
                if (ObjectPathHelper.get(this.clonedInputModel, inputDetail.name)) {
                    // If we have a passed value in the model, set the control value to this
                    inputValue = this.parseValue(inputDetail, ObjectPathHelper.get(this.clonedInputModel, inputDetail.name));
                }
                else if (inputDetail.value) {
                    // If we have a value passed in the Input definition set the control value to this.
                    inputValue = this.getDefaultValue(inputDetail.value);
                    ObjectPathHelper.set(this.clonedInputModel, inputDetail.name, inputValue);
                }
                else {
                    // This ensures that the property is set if not passed in
                    ObjectPathHelper.set(this.clonedInputModel, inputDetail.name, null);
                }
                const formControl = new FormControl(inputValue, this.mapValidators(inputDetail)); // Validators passed here too
                // Readonly
                if (inputDetail.readonly) {
                    formControl.disable();
                }
                // Remember for dependecy check in a mo
                ObjectPathHelper.set(localModel, inputDetail.name, inputValue);
                if (inputDetail.type !== InputTypes.search) {
                    formControl.valueChanges.subscribe(changes => {
                        this.fieldChanged(inputDetail, changes);
                    });
                }
                else {
                    // Handle debounce for search boxes
                    formControl.valueChanges
                        .pipe(debounceTime(500), distinctUntilChanged(), tap(text => {
                        this.fieldChanged(inputDetail, text);
                    }))
                        .subscribe();
                }
                formGroup[inputDetail.name] = formControl;
                if (inputDetail['datasourceItems'] && inputDetail['datasourceItems'].length > 0) {
                    // Pre loaded datasourceItems
                    this.dataSourceLookup[inputDetail.name] = inputDetail['datasourceItems'];
                    this.manipulateValuesToObjects(formControl, inputDetail, inputValue);
                }
                else if (inputDetail.type !== InputTypes.autocomplete &&
                    inputDetail.hasOwnProperty('referenceValueName') &&
                    inputDetail.referenceValueName) {
                    // If Datasource, get the values
                    // Do we need a seed value
                    let seed = '';
                    if (inputDetail.referenceValueSeedDependency) {
                        seed = this.clonedInputModel[inputDetail.referenceValueSeedDependency];
                    }
                    asyncGets.push(this.loadDataSource(inputDetail, seed).pipe(tap(data => {
                        this.dataSourceLookup[inputDetail.name] = data.referenceValueItems;
                        this.manipulateValuesToObjects(formControl, inputDetail, inputValue);
                    })));
                }
            }
            // Now re-loop notifying any dependencies
            for (const inputDetail of this.filteredInputDetails) {
                this.checkForDependencies(inputDetail, localModel[inputDetail.name]);
            }
        }
        this.formRendered$ = forkJoin(asyncGets);
        this.formRendered$.subscribe(results => {
            console.log('Form rendering');
            this.form = new FormGroup(formGroup);
        });
        const formValidators = [];
        if (this.inputBuilderDefinition.customValidators) {
            this.inputBuilderDefinition.customValidators.forEach(validator => {
                formValidators.push({});
            });
        }
        this.form = new FormGroup(formGroup, formValidators);
    }
    manipulateValuesToObjects(formControl, inputDetail, inputValue) {
        if (inputDetail.type === InputTypes.multiselect) {
            if (inputValue) {
                const foundValues = this.dataSourceLookup[inputDetail.name].filter(ds => inputValue.includes(ds.value));
                setTimeout(_ => {
                    formControl.setValue(foundValues, {
                        onlySelf: true,
                        emitEvent: false
                    });
                }, 10);
            }
        }
        else {
            // Now we have the values, find the ReferenceValue that matches the inputValue from above
            if (this.clonedInputModel[inputDetail.name] && this.dataSourceLookup[inputDetail.name]) {
                if (inputValue) {
                    let foundInputValue;
                    if (inputValue === 'first') {
                        foundInputValue = this.dataSourceLookup[inputDetail.name][0];
                    }
                    else {
                        foundInputValue = this.dataSourceLookup[inputDetail.name] // tslint:disable-next-line:triple-equals
                            .find(ds => ds.value && ds.value.toString() == inputValue.toString()); // Full on corecion
                    }
                    if (foundInputValue) {
                        setTimeout(_ => {
                            formControl.setValue(foundInputValue, {
                                onlySelf: true,
                                emitEvent: false
                            });
                        }, 10);
                    }
                }
            }
        }
    }
    parseValue(inputDetail, value) {
        switch (inputDetail.type) {
            case InputTypes.checkbox:
            case InputTypes.switch: {
                return value.toString() === 'true' || value.toString() === 'True' || value.toString() === '1';
            }
            case InputTypes.number:
            case InputTypes.rating:
            case InputTypes.spinner: {
                return Number(value);
            }
            case InputTypes.date:
            case InputTypes.datetime:
            case InputTypes.time: {
                const valueAsDate = new Date(value);
                if (inputDetail.forceUTC) {
                    return ZuluDateHelper.getGMTDate(valueAsDate);
                }
                else {
                    return valueAsDate;
                }
            }
        }
        // Default just pass back original
        return value;
    }
    fieldChanged(inputDetail, value) {
        let returnedValue;
        // If we are any 'Object' type input just return the object. Simples.
        if (inputDetail.type && inputDetail.type.endsWith('object')) {
            returnedValue = value;
        }
        else if (inputDetail.type === InputTypes.fileattach) {
            returnedValue = value;
        }
        else if ((inputDetail.type && inputDetail.type === InputTypes.date) ||
            inputDetail.type === InputTypes.datetime ||
            inputDetail.type === InputTypes.time) {
            if (inputDetail.forceUTC) {
                returnedValue = ZuluDateHelper.setGMTDate(value);
            }
            else {
                returnedValue = value;
            }
        }
        else if (inputDetail.type === InputTypes.spinner) {
            returnedValue = Number(value);
        }
        else if (inputDetail.type && inputDetail.type === InputTypes.multiselect) {
            // This is an array
            if (Array.isArray(value)) {
                const asArray = value;
                returnedValue = asArray.map(refVal => refVal.value);
            }
            else {
                returnedValue = [];
            }
        }
        else {
            if (value) {
                returnedValue = value.toString();
            }
            else {
                returnedValue = null;
            }
            if (value && value.hasOwnProperty('value')) {
                returnedValue = value.value;
            }
            else {
                returnedValue = value;
            }
        }
        // Update listeners
        this.valueUpdated.emit([inputDetail.name, returnedValue]);
        // Do We need to notify another input of this change?
        this.checkForDependencies(inputDetail, returnedValue);
        // Flatten out Objects to value
        const updatedModel = Object.assign({}, this.clonedInputModel);
        updatedModel[inputDetail.name] = returnedValue;
        // Tell subscribers we have changes
        this.modelUpdated.emit(updatedModel);
        this.clonedInputModel = updatedModel;
    }
    checkForDependencies(inputDetail, updatedValue) {
        this.filteredInputDetails.forEach(input => {
            if (this.form &&
                input.hasOwnProperty('referenceValueSeedDependency') &&
                input.referenceValueSeedDependency &&
                input.referenceValueSeedDependency === inputDetail.name) {
                this.loadDataSource(input, updatedValue, input.referenceValueChildLevel).subscribe(data => {
                    this.dataSourceLookup[input.name] = data.referenceValueItems;
                    const formControl = this.form.controls[inputDetail.name];
                    this.manipulateValuesToObjects(formControl, inputDetail, formControl.value);
                });
            }
        });
    }
    loadDataSource(inputDetail, seed = '', childDepth = 0) {
        return this.refValuesService.getReferenceValue(inputDetail.referenceValueName, seed, childDepth);
    }
    mapValidators(inputDetail) {
        const formValidators = [];
        if (inputDetail) {
            // Required
            if (inputDetail.validateRequired) {
                formValidators.push(Validators.required);
            }
            // RequiredTrue
            if (inputDetail.validateRequiredTrue) {
                formValidators.push(Validators.requiredTrue);
            }
            // EMail
            if (inputDetail.validateEmail) {
                formValidators.push(Validators.email);
            }
            // Pattern
            if (inputDetail.validatePattern) {
                formValidators.push(Validators.pattern(inputDetail.validatePattern));
            }
            // Min Length
            if (inputDetail.validateMinLength) {
                formValidators.push(Validators.minLength(inputDetail.validateMinLength));
                if (!inputDetail.validateMinLengthMessage) {
                    inputDetail.validateMinLengthMessage = `${inputDetail.label} must be a minimum length of ${inputDetail.validateMinLength}`;
                }
            }
            // Max Length
            if (inputDetail.validateMaxLength) {
                formValidators.push(Validators.maxLength(inputDetail.validateMaxLength));
                if (!inputDetail.validateMaxLengthMessage) {
                    inputDetail.validateMaxLengthMessage = `${inputDetail.label} must be a max length of ${inputDetail.validateMinLength}`;
                }
            }
        }
        return formValidators;
    }
}
InputBuilderComponent.ɵfac = function InputBuilderComponent_Factory(t) { return new (t || InputBuilderComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.AppSettingsService), i0.ɵɵdirectiveInject(i1.AppSettingsQuery), i0.ɵɵdirectiveInject(i1.UserAuthenticationQuery), i0.ɵɵdirectiveInject(i1.ReferenceValuesService), i0.ɵɵdirectiveInject(i1.ComponentLoaderService), i0.ɵɵdirectiveInject(i1.UserAuthenticationBase)); };
InputBuilderComponent.ɵcmp = i0.ɵɵdefineComponent({ type: InputBuilderComponent, selectors: [["ngs-input-builder"]], viewQuery: function InputBuilderComponent_Query(rf, ctx) { if (rf & 1) {
        i0.ɵɵviewQuery(_c0, true);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dropDownChildren = _t);
    } }, inputs: { inputBuilderDefinition: "inputBuilderDefinition", inputModel: "inputModel" }, outputs: { modelUpdated: "modelUpdated", valueUpdated: "valueUpdated", fileAttached: "fileAttached", okClicked: "okClicked", cancelClicked: "cancelClicked" }, features: [i0.ɵɵNgOnChangesFeature], decls: 2, vars: 3, consts: [["novalidate", "", "class", "p-grid ui-fluid", 3, "noPadding", "form-group", "formGroup", "ngSubmit", 4, "ngIf"], ["novalidate", "", 1, "p-grid", "ui-fluid", 3, "formGroup", "ngSubmit"], [3, "className", "noPadding", 4, "ngFor", "ngForOf"], ["class", "button-line", "class", "p-col-12", 4, "ngIf"], [3, "className"], [3, "ngSwitch", "className"], ["class", "p-float-label", 4, "ngSwitchCase"], [4, "ngSwitchCase"], ["appendTo", "body", "dataKey", "value", "field", "display", 3, "style", "tabindex", "dropdown", "formControlName", "suggestions", "placeholder", "completeMethod", 4, "ngSwitchCase"], ["class", "ui-inputgroup", 4, "ngSwitchCase"], ["class", "p-float-label", 4, "ngSwitchDefault"], ["class", "p-col-1", 4, "ngIf"], ["class", "ui-message ui-messages-error ui-corner-all", 4, "ngIf"], [1, "p-float-label"], ["class", "textInput", "type", "text", "pInputText", "", 3, "tabindex", "formControlName", "id", 4, "ngIf"], [3, "for"], ["type", "text", "pInputText", "", 1, "textInput", 3, "tabindex", "formControlName", "id"], ["class", "textInput", "type", "password", "pPassword", "", 3, "tabindex", "formControlName", "id", 4, "ngIf"], ["type", "password", "pPassword", "", 1, "textInput", 3, "tabindex", "formControlName", "id"], ["class", "textInput", "type", "email", "pInputText", "", 3, "tabindex", "formControlName", "id", 4, "ngIf"], ["type", "email", "pInputText", "", 1, "textInput", 3, "tabindex", "formControlName", "id"], ["type", "text", "pKeyFilter", "num", "pInputText", "", 1, "textInput", 3, "tabindex", "formControlName", "id"], [3, "tabindex", "formControlName", "id", "min", "max", "step"], [3, "tabindex", "mask", "id", "formControl"], [3, "tabindex", "id", "min", "max", "formControl"], ["pInputTextarea", "", 1, "textInput", 3, "tabindex", "rows", "placeholder", "formControlName"], ["binary", "true", 3, "tabindex", "label", "id", "formControl"], ["appendTo", "body", "showClear", "true", "dataKey", "value", "optionLabel", "display", 1, "dropdownInput", 3, "tabindex", "id", "options", "filter", "formControlName"], ["dropDown", ""], ["appendTo", "body", "showClear", "true", "optionLabel", "display", 1, "dropdownInput", 3, "id", "options", "filter", "tabindex", "formControlName"], ["appendTo", "body", "dataKey", "value", "field", "display", 3, "tabindex", "dropdown", "formControlName", "suggestions", "placeholder", "completeMethod"], [3, "tabindex", "id", "placeholder", "formControlName"], ["appendTo", "body", "optionLabel", "display", "dataKey", "value", 1, "multi-select", 3, "tabindex", "id", "filterPlaceHolder", "formControlName", "filter", "options"], [3, "tabindex", "id", "formControlName"], [1, "switch-label"], ["appendTo", "body", "showTime", "true", "hourFormat", "24", 3, "tabindex", "showButtonBar", "showIcon", "dateFormat", "formControlName", "id"], ["appendTo", "body", 3, "tabindex", "showButtonBar", "showIcon", "dateFormat", "formControlName", "id"], ["appendTo", "body", "timeOnly", "true", "showTime", "true", "hourFormat", "24", 3, "tabindex", "showButtonBar", "showIcon", "formControlName", "id"], [3, "tabindex", "options", "data"], ["customUpload", "true", "auto", "true", 3, "tabindex", "accept", "maxFileSize", "chooseLabel", "uploadHandler"], [1, "ui-inputgroup"], ["type", "text", "pInputText", "", 2, "width", "100%", 3, "tabindex", "formControlName", "id"], ["pButton", "", "type", "button", "icon", "ui-icon-search"], [1, "textInput", 3, "id"], ["type", "text", "pInputText", "", 3, "tabindex", "formControlName", "id"], [1, "p-col-1"], ["tooltipPosition", "bottom", 1, "fa", "ui-icon-info", "helpIcon", 3, "pTooltip"], [1, "ui-message", "ui-messages-error", "ui-corner-all"], [4, "ngIf"], [1, "p-col-12"], ["class", "button-container p-col-3", 4, "ngIf"], [1, "button-container", "p-col-3"], ["pButton", "", "type", "button", "iconPos", "left", 1, "p-button-info", 3, "icon", "label", "click"], ["pButton", "", "type", "button", "iconPos", "left", 1, "p-button-warning", 3, "icon", "label", "click"], ["pButton", "", "type", "submit", "iconPos", "left", 1, "p-button-success", 3, "icon", "label"]], template: function InputBuilderComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵtemplate(0, InputBuilderComponent_form_0_Template, 3, 7, "form", 0);
        i0.ɵɵpipe(1, "async");
    } if (rf & 2) {
        i0.ɵɵproperty("ngIf", i0.ɵɵpipeBind1(1, 1, ctx.formRendered$) && ctx.formBuilt && ctx.inputBuilderDefinition && ctx.filteredInputDetails);
    } }, directives: [i2.NgIf, i3.ɵangular_packages_forms_forms_y, i3.NgControlStatusGroup, i3.FormGroupDirective, i2.NgForOf, i2.NgSwitch, i2.NgSwitchCase, i2.NgSwitchDefault, i3.DefaultValueAccessor, i4.InputText, i3.NgControlStatus, i3.FormControlName, i5.Password, i6.KeyFilter, i7.Slider, i8.InputMask, i3.FormControlDirective, i9.Spinner, i10.InputTextarea, i11.Checkbox, i12.Dropdown, i13.AutoComplete, i14.Chips, i15.MultiSelect, i16.InputSwitch, i17.Calendar, i18.JsonEditorComponent, i19.FileUpload, i20.ButtonDirective, i21.Tooltip], pipes: [i2.AsyncPipe, i22.TranslatePipe], styles: [".small-label[_ngcontent-%COMP%]{font-size:12px}.textInput[_ngcontent-%COMP%]{width:100%}.switch-label[_ngcontent-%COMP%]{margin-left:16px}.inlineInputs[_ngcontent-%COMP%]{padding:0 3px 0 0!important}.multi-select[_ngcontent-%COMP%]{width:100%}.button-container[_ngcontent-%COMP%]{display:inline;margin-left:6px}"], changeDetection: 0 });
/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(InputBuilderComponent, [{
        type: Component,
        args: [{
                selector: 'ngs-input-builder',
                templateUrl: 'inputBuilder.component.html',
                styleUrls: ['inputBuilder.component.scss'],
                changeDetection: ChangeDetectionStrategy.OnPush
            }]
    }], function () { return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: i1.AppSettingsService }, { type: i1.AppSettingsQuery }, { type: i1.UserAuthenticationQuery }, { type: i1.ReferenceValuesService }, { type: i1.ComponentLoaderService }, { type: i1.UserAuthenticationBase }]; }, { inputBuilderDefinition: [{
            type: Input
        }], inputModel: [{
            type: Input
        }], modelUpdated: [{
            type: Output
        }], valueUpdated: [{
            type: Output
        }], fileAttached: [{
            type: Output
        }], okClicked: [{
            type: Output
        }], cancelClicked: [{
            type: Output
        }], dropDownChildren: [{
            type: ViewChildren,
            args: ['dropDown']
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXRCdWlsZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3NjYWZmb2xkaW5nL2lucHV0YnVpbGRlci9zcmMvIiwic291cmNlcyI6WyJsaWIvaW5wdXRCdWlsZGVyL2lucHV0QnVpbGRlci5jb21wb25lbnQudHMiLCJsaWIvaW5wdXRCdWlsZGVyL2lucHV0QnVpbGRlci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsU0FBUyxFQUNULEtBQUssRUFDTCxNQUFNLEVBQ04sWUFBWSxFQUlaLHVCQUF1QixFQUV2QixZQUFZLEVBR2YsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFjLEVBQUUsRUFBRSxRQUFRLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDaEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFcEUsT0FBTyxFQUF1QixpQkFBaUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBR3hFLE9BQU8sRUFBRSxHQUFHLEVBQTBCLFlBQVksRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBU2pHLE9BQU8sRUFJSCxXQUFXLEVBRVgsY0FBYyxFQUdkLGNBQWMsRUFDZCxVQUFVLEVBR1YsZ0JBQWdCLEVBQ25CLE1BQU0sdUJBQXVCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lDM0JuQiwyQkFBMkQ7OztJQUl2RCw0QkFTQTs7O0lBUkksNENBQTJCLGtDQUFBLHFCQUFBOzs7SUFGbkMsZ0NBQ0k7SUFBQSwrRkFTQTtJQUFBLGlDQUEwQjtJQUFBLFlBQXFCO0lBQUEsaUJBQVE7SUFDM0QsaUJBQU87Ozs7SUFQRSxlQUFpQjtJQUFqQixxQ0FBaUI7SUFNZixlQUFrQjtJQUFsQixtQ0FBa0I7SUFBQyxlQUFxQjtJQUFyQiwrQ0FBcUI7OztJQUsvQyw0QkFTQTs7O0lBUkksNENBQTJC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V0FBVyxDQUFDLEtBQUssZ0NBQWdDLFdBQVcsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO2lCQUM5SDthQUNKO1lBRUQsYUFBYTtZQUNiLElBQUksV0FBVyxDQUFDLGlCQUFpQixFQUFFO2dCQUMvQixjQUFjLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztnQkFDekUsSUFBSSxDQUFDLFdBQVcsQ0FBQyx3QkFBd0IsRUFBRTtvQkFDdkMsV0FBVyxDQUFDLHdCQUF3QixHQUFHLEdBQUcsV0FBVyxDQUFDLEtBQUssNEJBQTRCLFdBQVcsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO2lCQUMxSDthQUNKO1NBQ0o7UUFFRCxPQUFPLGNBQWMsQ0FBQztJQUMxQixDQUFDOzswRkF0ZVEscUJBQXFCOzBEQUFyQixxQkFBcUI7Ozs7OztRQ25EbEMsd0VBb1lPOzs7UUFsWUYseUlBQTRGOztrRERpRHBGLHFCQUFxQjtjQU5qQyxTQUFTO2VBQUM7Z0JBQ1AsUUFBUSxFQUFFLG1CQUFtQjtnQkFDN0IsV0FBVyxFQUFFLDZCQUE2QjtnQkFDMUMsU0FBUyxFQUFFLENBQUMsNkJBQTZCLENBQUM7Z0JBQzFDLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO2FBQ2xEO2tUQWdCWSxzQkFBc0I7a0JBQTlCLEtBQUs7WUFDRyxVQUFVO2tCQUFsQixLQUFLO1lBRUksWUFBWTtrQkFBckIsTUFBTTtZQUNHLFlBQVk7a0JBQXJCLE1BQU07WUFDRyxZQUFZO2tCQUFyQixNQUFNO1lBRUcsU0FBUztrQkFBbEIsTUFBTTtZQUNHLGFBQWE7a0JBQXRCLE1BQU07WUFFbUIsZ0JBQWdCO2tCQUF6QyxZQUFZO21CQUFDLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgQ29tcG9uZW50LFxyXG4gICAgSW5wdXQsXHJcbiAgICBPdXRwdXQsXHJcbiAgICBFdmVudEVtaXR0ZXIsXHJcbiAgICBPbkluaXQsXHJcbiAgICBPbkNoYW5nZXMsXHJcbiAgICBTaW1wbGVDaGFuZ2VzLFxyXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXHJcbiAgICBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgIFZpZXdDaGlsZHJlbixcclxuICAgIFF1ZXJ5TGlzdCxcclxuICAgIEVsZW1lbnRSZWZcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgb2YsIGZvcmtKb2luIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IEZvcm1Hcm91cCwgRm9ybUNvbnRyb2wsIFZhbGlkYXRvcnMgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcblxyXG5pbXBvcnQgeyBKc29uRWRpdG9yQ29tcG9uZW50LCBKc29uRWRpdG9yT3B0aW9ucyB9IGZyb20gJ2FuZy1qc29uZWRpdG9yJztcclxuXHJcbmltcG9ydCB7IERyb3Bkb3duIH0gZnJvbSAncHJpbWVuZy9kcm9wZG93bic7XHJcbmltcG9ydCB7IHRhcCwgbWFwLCBzd2l0Y2hNYXAsIGZpbHRlciwgZGVib3VuY2VUaW1lLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuaW1wb3J0IHtcclxuICAgIEFwcFNldHRpbmdzU2VydmljZSxcclxuICAgIEFwcFNldHRpbmdzUXVlcnksXHJcbiAgICBVc2VyQXV0aGVudGljYXRpb25RdWVyeSxcclxuICAgIFJlZmVyZW5jZVZhbHVlc1NlcnZpY2UsXHJcbiAgICBDb21wb25lbnRMb2FkZXJTZXJ2aWNlLFxyXG4gICAgVXNlckF1dGhlbnRpY2F0aW9uQmFzZVxyXG59IGZyb20gJ0BuZ3NjYWZmb2xkaW5nL2NvcmUnO1xyXG5pbXBvcnQge1xyXG4gICAgSW5wdXRCdWlsZGVyRGVmaW5pdGlvbixcclxuICAgIElucHV0RGV0YWlsLFxyXG4gICAgSW5wdXREeW5hbWljLFxyXG4gICAgQXBwU2V0dGluZ3MsXHJcbiAgICBJbnB1dERldGFpbFJlZmVyZW5jZVZhbHVlcyxcclxuICAgIFp1bHVEYXRlSGVscGVyLFxyXG4gICAgT3JpZW50YXRpb25WYWx1ZXMsXHJcbiAgICBJbnB1dExvY2F0aW9ucyxcclxuICAgIFJlZmVyZW5jZVZhbHVlLFxyXG4gICAgSW5wdXRUeXBlcyxcclxuICAgIElucHV0RGV0YWlsRGF0ZVRpbWUsXHJcbiAgICBSZWZlcmVuY2VWYWx1ZUl0ZW0sXHJcbiAgICBPYmplY3RQYXRoSGVscGVyXHJcbn0gZnJvbSAnQG5nc2NhZmZvbGRpbmcvbW9kZWxzJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICduZ3MtaW5wdXQtYnVpbGRlcicsXHJcbiAgICB0ZW1wbGF0ZVVybDogJ2lucHV0QnVpbGRlci5jb21wb25lbnQuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnaW5wdXRCdWlsZGVyLmNvbXBvbmVudC5zY3NzJ10sXHJcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxyXG59KVxyXG5leHBvcnQgY2xhc3MgSW5wdXRCdWlsZGVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMge1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxyXG4gICAgICAgIHByaXZhdGUgcmVmOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgICAgICBwdWJsaWMgYXBwU2V0dGluZ3M6IEFwcFNldHRpbmdzU2VydmljZSxcclxuICAgICAgICBwdWJsaWMgYXBwU2V0dGluZ3NRdWVyeTogQXBwU2V0dGluZ3NRdWVyeSxcclxuICAgICAgICBwcml2YXRlIGF1dGhRdWVyeTogVXNlckF1dGhlbnRpY2F0aW9uUXVlcnksXHJcbiAgICAgICAgcHVibGljIHJlZlZhbHVlc1NlcnZpY2U6IFJlZmVyZW5jZVZhbHVlc1NlcnZpY2UsXHJcbiAgICAgICAgcHJpdmF0ZSBjb21wb25lbnRMb2FkZXI6IENvbXBvbmVudExvYWRlclNlcnZpY2UsXHJcbiAgICAgICAgcHJpdmF0ZSBhdXRoU2VydmljZTogVXNlckF1dGhlbnRpY2F0aW9uQmFzZVxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5lZGl0b3JPcHRpb25zID0gbmV3IEpzb25FZGl0b3JPcHRpb25zKCk7XHJcbiAgICAgICAgdGhpcy5lZGl0b3JPcHRpb25zLm1vZGVzID0gWydjb2RlJywgJ3RleHQnLCAndHJlZScsICd2aWV3J107IC8vIHNldCBhbGwgYWxsb3dlZCBtb2Rlc1xyXG4gICAgfVxyXG5cclxuICAgIEBJbnB1dCgpIGlucHV0QnVpbGRlckRlZmluaXRpb246IElucHV0QnVpbGRlckRlZmluaXRpb247XHJcbiAgICBASW5wdXQoKSBpbnB1dE1vZGVsOiBhbnk7XHJcblxyXG4gICAgQE91dHB1dCgpIG1vZGVsVXBkYXRlZCA9IG5ldyBFdmVudEVtaXR0ZXI8b2JqZWN0PigpO1xyXG4gICAgQE91dHB1dCgpIHZhbHVlVXBkYXRlZCA9IG5ldyBFdmVudEVtaXR0ZXI8W3N0cmluZywgb2JqZWN0XT4oKTtcclxuICAgIEBPdXRwdXQoKSBmaWxlQXR0YWNoZWQgPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZz4oKTtcclxuXHJcbiAgICBAT3V0cHV0KCkgb2tDbGlja2VkID0gbmV3IEV2ZW50RW1pdHRlcjxbb2JqZWN0LCBzdHJpbmddPigpO1xyXG4gICAgQE91dHB1dCgpIGNhbmNlbENsaWNrZWQgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuXHJcbiAgICBAVmlld0NoaWxkcmVuKCdkcm9wRG93bicpIGRyb3BEb3duQ2hpbGRyZW46IFF1ZXJ5TGlzdDxEcm9wZG93bj47XHJcblxyXG4gICAgcHJpdmF0ZSBjbG9uZWRJbnB1dE1vZGVsOiBhbnk7XHJcbiAgICBwcml2YXRlIGZpbGVDb250ZW50OiBzdHJpbmc7XHJcblxyXG4gICAgZmlsdGVyZWRJbnB1dERldGFpbHM6IElucHV0RGV0YWlsW107XHJcblxyXG4gICAgZm9ybUJ1aWx0ID0gZmFsc2U7XHJcbiAgICBmb3JtOiBGb3JtR3JvdXA7XHJcbiAgICBjb250cm9sU3R5bGUgPSAncC1jb2wtMTInO1xyXG4gICAgY29udGFpbmVyQ2xhc3MgPSAncC1jb2wtMTInOyAvLyBUaGlzIGNoYW5nZXMgdG8gYWxsb3cgdGhlIGhlbHAgSWNvblxyXG4gICAgZWRpdG9yT3B0aW9uczogSnNvbkVkaXRvck9wdGlvbnM7XHJcbiAgICBmb3JtU3VibWl0dGVkID0gZmFsc2U7XHJcbiAgICBkYXRhU291cmNlTG9va3VwID0ge307XHJcbiAgICBtYXhGaWxlU2l6ZTogbnVtYmVyO1xyXG4gICAgYWxsb3dlZEZpbGVUeXBlczogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyBmb3JtUmVuZGVyZWQkOiBPYnNlcnZhYmxlPGFueT47XHJcblxyXG4gICAgcHVibGljIGdldExhYmVsKGlucHV0OiBJbnB1dERldGFpbCkge1xyXG4gICAgICAgIGlmIChpbnB1dC5sYWJlbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5wdXQubGFiZWw7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5uYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnB1dC5uYW1lLnJlcGxhY2UoLyhbQS1aXSspL2csICcgJDEnKS5yZXBsYWNlKC8oW0EtWl1bYS16XSkvZywgJyAkMScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsb2FkQ29tcG9uZW50KGlucHV0OiBJbnB1dER5bmFtaWMpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudExvYWRlci5sb2FkQ29tcG9uZW50KGlucHV0LmFuZ3VsYXJDb21wb25lbnQpLnRoZW4oZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0Lm5hbWV9YCkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25TdWJtaXQoZm9ybTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5mb3JtU3VibWl0dGVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5mb3JtLnZhbGlkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlucHV0QnVpbGRlckRlZmluaXRpb24ub2tCdXR0b25DYWxsQmFjaykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dEJ1aWxkZXJEZWZpbml0aW9uLm9rQnV0dG9uQ2FsbEJhY2sodGhpcy5jbG9uZWRJbnB1dE1vZGVsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5va0NsaWNrZWQuZW1pdChbdGhpcy5jbG9uZWRJbnB1dE1vZGVsLCB0aGlzLmZpbGVDb250ZW50XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uQ2FuY2VsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlucHV0QnVpbGRlckRlZmluaXRpb24uY2FuY2VsQnV0dG9uQ2FsbEJhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dEJ1aWxkZXJEZWZpbml0aW9uLmNhbmNlbEJ1dHRvbkNhbGxCYWNrKHRoaXMuY2xvbmVkSW5wdXRNb2RlbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNhbmNlbENsaWNrZWQuZW1pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ3VzdG9tKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlucHV0QnVpbGRlckRlZmluaXRpb24uY3VzdG9tQnV0dG9uQ2FsbEJhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dEJ1aWxkZXJEZWZpbml0aW9uLmN1c3RvbUJ1dHRvbkNhbGxCYWNrKHRoaXMuY2xvbmVkSW5wdXRNb2RlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcclxuICAgICAgICBpZiAoY2hhbmdlcy5pbnB1dE1vZGVsICYmIGNoYW5nZXMuaW5wdXRNb2RlbC5jdXJyZW50VmFsdWUgIT09IGNoYW5nZXMuaW5wdXRNb2RlbC5wcmV2aW91c1ZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybUJ1aWx0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGNoYW5nZXMuaW5wdXRCdWlsZGVyRGVmaW5pdGlvbiAmJlxyXG4gICAgICAgICAgICBjaGFuZ2VzLmlucHV0QnVpbGRlckRlZmluaXRpb24uY3VycmVudFZhbHVlICE9PSBjaGFuZ2VzLmlucHV0QnVpbGRlckRlZmluaXRpb24ucHJldmlvdXNWYWx1ZVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1CdWlsdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5idWlsZEZvcm0oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRlY29yYXRlSW5wdXRNb2RlbCgpIHtcclxuICAgICAgICAvLyBBZGQgaW4gc3RhbmRhcmQgVmFsdWVzXHJcbiAgICAgICAgY29uc3QgY3VycmVudFVzZXIgPSB0aGlzLmF1dGhRdWVyeS5nZXRWYWx1ZSgpLnVzZXJEZXRhaWxzO1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdGhpcy5jbG9uZWRJbnB1dE1vZGVsWydub3cnXSA9IG5vdztcclxuICAgICAgICB0aGlzLmNsb25lZElucHV0TW9kZWxbJ3p1bHVEYXRlJ10gPSBuZXcgRGF0ZShcclxuICAgICAgICAgICAgRGF0ZS5VVEMobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCBub3cuZ2V0RGF0ZSgpLCBub3cuZ2V0SG91cnMoKSwgbm93LmdldE1pbnV0ZXMoKSwgbm93LmdldFNlY29uZHMoKSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmNsb25lZElucHV0TW9kZWxbJ3VzZXJJZCddID0gY3VycmVudFVzZXIudXNlcklkO1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubWF4RmlsZVNpemUgPSB0aGlzLmFwcFNldHRpbmdzUXVlcnkuaGFzRW50aXR5KEFwcFNldHRpbmdzLm1heGltdW1GaWxlU2l6ZSlcclxuICAgICAgICAgICAgPyB0aGlzLmFwcFNldHRpbmdzUXVlcnkuZ2V0RW50aXR5KEFwcFNldHRpbmdzLm1heGltdW1GaWxlU2l6ZSkudmFsdWVcclxuICAgICAgICAgICAgOiA5OTk5OTk7XHJcblxyXG4gICAgICAgIHRoaXMuYWxsb3dlZEZpbGVUeXBlcyA9IHRoaXMuYXBwU2V0dGluZ3NRdWVyeS5oYXNFbnRpdHkoQXBwU2V0dGluZ3MuYWxsb3dlZEZpbGVUeXBlcylcclxuICAgICAgICAgICAgPyB0aGlzLmFwcFNldHRpbmdzUXVlcnkuZ2V0RW50aXR5KEFwcFNldHRpbmdzLmFsbG93ZWRGaWxlVHlwZXMpLnZhbHVlXHJcbiAgICAgICAgICAgIDogJyc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29udGFpbmVyQ2xhc3MoaW5wdXREZXRhaWw6IElucHV0RGV0YWlsKSB7XHJcbiAgICAgICAgcmV0dXJuIGlucHV0RGV0YWlsLmhlbHAgPyAncC1jb2wtMTEnIDogJ3AtY29sLTEyJztcclxuICAgIH1cclxuXHJcbiAgICBhdHRhY2hGaWxlcyhldmVudDogYW55LCBpbnB1dDogSW5wdXREZXRhaWwpIHtcclxuICAgICAgICBpZiAodGhpcy5pbnB1dEJ1aWxkZXJEZWZpbml0aW9uLmxvYWRGaWxlQ29udGVudCkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuZmlsZXMgJiYgZXZlbnQuZmlsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGV2ZW50LmZpbGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgJ3RleHQnIGlzIHRoZSBjb250ZW50IG9mIHRoZSBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZUNvbnRlbnQgPSBmaWxlUmVhZGVyLnJlc3VsdC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVBdHRhY2hlZC5lbWl0KHRoaXMuZmlsZUNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5maWVsZENoYW5nZWQoaW5wdXQsIGV2ZW50LmZpbGVzWzBdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2VhcmNoQXV0b0NvbXBsZXRlKCRldmVudCwgaW5wdXQ6IElucHV0RGV0YWlsUmVmZXJlbmNlVmFsdWVzKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkRGF0YVNvdXJjZShpbnB1dCwgJGV2ZW50LnF1ZXJ5KS5zdWJzY3JpYmUoZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZUxvb2t1cFtpbnB1dC5uYW1lXSA9IGRhdGEucmVmZXJlbmNlVmFsdWVJdGVtcztcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgIH0sIDUwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldERlZmF1bHRWYWx1ZSh2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBjYXNlICd0b2RheSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ25vdyc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWnVsdURhdGVIZWxwZXIuZ2V0R01URGF0ZShuZXcgRGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd5ZXN0ZXJkYXknOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFp1bHVEYXRlSGVscGVyLmdldEdNVERhdGUobmV3IERhdGUobm93LnNldERhdGUobm93LmdldERhdGUoKSAtIDEpKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlICd0b21vcnJvdyc6IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWnVsdURhdGVIZWxwZXIuZ2V0R01URGF0ZShuZXcgRGF0ZShub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpICsgMSkpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBidWlsZEZvcm0oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZm9ybUJ1aWx0IHx8ICF0aGlzLmlucHV0QnVpbGRlckRlZmluaXRpb24gfHwgIXRoaXMuaW5wdXRNb2RlbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmZvcm1CdWlsdCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIENsb25lIG91ciBpbnB1dE1vZGVsXHJcbiAgICAgICAgdGhpcy5jbG9uZWRJbnB1dE1vZGVsID0geyAuLi50aGlzLmlucHV0TW9kZWwgfTtcclxuICAgICAgICB0aGlzLmRlY29yYXRlSW5wdXRNb2RlbCgpO1xyXG5cclxuICAgICAgICAvLyBEZWZhdWx0IHRvIGZ1bGwgd2lkdGggKGNoYW5nZXMgaWYgaGVscCBmb3VuZClcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckNsYXNzID0gJ3AtY29sLTEyJztcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLmlucHV0QnVpbGRlckRlZmluaXRpb24ub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uVmFsdWVzLkhvcml6b250YWwgfHxcclxuICAgICAgICAgICAgdGhpcy5pbnB1dEJ1aWxkZXJEZWZpbml0aW9uLmlucHV0TG9jYXRpb24gPT09IElucHV0TG9jYXRpb25zLklOTElORVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnB1dEJ1aWxkZXJEZWZpbml0aW9uLmNvbHVtbkNvdW50ID4gMCAmJiB0aGlzLmlucHV0QnVpbGRlckRlZmluaXRpb24uY29sdW1uQ291bnQgPCA1KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xTaXplID0gMTIgLyB0aGlzLmlucHV0QnVpbGRlckRlZmluaXRpb24uY29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xTdHlsZSA9IGBwLWNvbC0ke2NvbFNpemV9YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udHJvbFN0eWxlID0gJ3AtY29sLTEyJztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZm9ybUdyb3VwID0ge307XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsTW9kZWwgPSB7fTtcclxuXHJcbiAgICAgICAgY29uc3QgYXN5bmNHZXRzOiBBcnJheTxPYnNlcnZhYmxlPFJlZmVyZW5jZVZhbHVlPj4gPSBbXTtcclxuXHJcbiAgICAgICAgLy8gQWx3YXlzIGhhdmUgb25lIHRvIHJ1blxyXG4gICAgICAgIGFzeW5jR2V0cy5wdXNoKG9mKG5ldyBSZWZlcmVuY2VWYWx1ZSgpKSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlucHV0QnVpbGRlckRlZmluaXRpb24uaW5wdXREZXRhaWxzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyZWRJbnB1dERldGFpbHMgPSB0aGlzLmF1dGhTZXJ2aWNlLmZpbHRlckl0ZW1zQnlSb2xlKHRoaXMuaW5wdXRCdWlsZGVyRGVmaW5pdGlvbi5pbnB1dERldGFpbHMpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlucHV0RGV0YWlsIG9mIHRoaXMuZmlsdGVyZWRJbnB1dERldGFpbHMpIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldCB2YWx1ZSBmcm9tIG1vZGVsIGFuZCBhcHBseSB0byBuZXcgRm9ybUNvbnRyb2xcclxuICAgICAgICAgICAgICAgIGxldCBpbnB1dFZhbHVlOiBhbnkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdFBhdGhIZWxwZXIuZ2V0KHRoaXMuY2xvbmVkSW5wdXRNb2RlbCwgaW5wdXREZXRhaWwubmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcGFzc2VkIHZhbHVlIGluIHRoZSBtb2RlbCwgc2V0IHRoZSBjb250cm9sIHZhbHVlIHRvIHRoaXNcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbHVlID0gdGhpcy5wYXJzZVZhbHVlKGlucHV0RGV0YWlsLCBPYmplY3RQYXRoSGVscGVyLmdldCh0aGlzLmNsb25lZElucHV0TW9kZWwsIGlucHV0RGV0YWlsLm5hbWUpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXREZXRhaWwudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgdmFsdWUgcGFzc2VkIGluIHRoZSBJbnB1dCBkZWZpbml0aW9uIHNldCB0aGUgY29udHJvbCB2YWx1ZSB0byB0aGlzLlxyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWUgPSB0aGlzLmdldERlZmF1bHRWYWx1ZShpbnB1dERldGFpbC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0UGF0aEhlbHBlci5zZXQodGhpcy5jbG9uZWRJbnB1dE1vZGVsLCBpbnB1dERldGFpbC5uYW1lLCBpbnB1dFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHRoYXQgdGhlIHByb3BlcnR5IGlzIHNldCBpZiBub3QgcGFzc2VkIGluXHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0UGF0aEhlbHBlci5zZXQodGhpcy5jbG9uZWRJbnB1dE1vZGVsLCBpbnB1dERldGFpbC5uYW1lLCBudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JtQ29udHJvbCA9IG5ldyBGb3JtQ29udHJvbChpbnB1dFZhbHVlLCB0aGlzLm1hcFZhbGlkYXRvcnMoaW5wdXREZXRhaWwpKTsgLy8gVmFsaWRhdG9ycyBwYXNzZWQgaGVyZSB0b29cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZWFkb25seVxyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0RGV0YWlsLnJlYWRvbmx5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2wuZGlzYWJsZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlbWVtYmVyIGZvciBkZXBlbmRlY3kgY2hlY2sgaW4gYSBtb1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0UGF0aEhlbHBlci5zZXQobG9jYWxNb2RlbCwgaW5wdXREZXRhaWwubmFtZSwgaW5wdXRWYWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0RGV0YWlsLnR5cGUgIT09IElucHV0VHlwZXMuc2VhcmNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2wudmFsdWVDaGFuZ2VzLnN1YnNjcmliZShjaGFuZ2VzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWVsZENoYW5nZWQoaW5wdXREZXRhaWwsIGNoYW5nZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZGVib3VuY2UgZm9yIHNlYXJjaCBib3hlc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sLnZhbHVlQ2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAucGlwZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlVGltZSg1MDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcCh0ZXh0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpZWxkQ2hhbmdlZChpbnB1dERldGFpbCwgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3JtR3JvdXBbaW5wdXREZXRhaWwubmFtZV0gPSBmb3JtQ29udHJvbDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXREZXRhaWxbJ2RhdGFzb3VyY2VJdGVtcyddICYmIGlucHV0RGV0YWlsWydkYXRhc291cmNlSXRlbXMnXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJlIGxvYWRlZCBkYXRhc291cmNlSXRlbXNcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2VMb29rdXBbaW5wdXREZXRhaWwubmFtZV0gPSBpbnB1dERldGFpbFsnZGF0YXNvdXJjZUl0ZW1zJ107XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW5pcHVsYXRlVmFsdWVzVG9PYmplY3RzKGZvcm1Db250cm9sLCBpbnB1dERldGFpbCBhcyBJbnB1dERldGFpbFJlZmVyZW5jZVZhbHVlcywgaW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0RGV0YWlsLnR5cGUgIT09IElucHV0VHlwZXMuYXV0b2NvbXBsZXRlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXREZXRhaWwuaGFzT3duUHJvcGVydHkoJ3JlZmVyZW5jZVZhbHVlTmFtZScpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKDxJbnB1dERldGFpbFJlZmVyZW5jZVZhbHVlcz5pbnB1dERldGFpbCkucmVmZXJlbmNlVmFsdWVOYW1lXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBEYXRhc291cmNlLCBnZXQgdGhlIHZhbHVlc1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBEbyB3ZSBuZWVkIGEgc2VlZCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWVkID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCg8SW5wdXREZXRhaWxSZWZlcmVuY2VWYWx1ZXM+aW5wdXREZXRhaWwpLnJlZmVyZW5jZVZhbHVlU2VlZERlcGVuZGVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VlZCA9IHRoaXMuY2xvbmVkSW5wdXRNb2RlbFsoPElucHV0RGV0YWlsUmVmZXJlbmNlVmFsdWVzPmlucHV0RGV0YWlsKS5yZWZlcmVuY2VWYWx1ZVNlZWREZXBlbmRlbmN5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNHZXRzLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZERhdGFTb3VyY2UoaW5wdXREZXRhaWwsIHNlZWQpLnBpcGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXAoZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlTG9va3VwW2lucHV0RGV0YWlsLm5hbWVdID0gZGF0YS5yZWZlcmVuY2VWYWx1ZUl0ZW1zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFuaXB1bGF0ZVZhbHVlc1RvT2JqZWN0cyhmb3JtQ29udHJvbCwgaW5wdXREZXRhaWwgYXMgSW5wdXREZXRhaWxSZWZlcmVuY2VWYWx1ZXMsIGlucHV0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE5vdyByZS1sb29wIG5vdGlmeWluZyBhbnkgZGVwZW5kZW5jaWVzXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgaW5wdXREZXRhaWwgb2YgdGhpcy5maWx0ZXJlZElucHV0RGV0YWlscykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0ZvckRlcGVuZGVuY2llcyhpbnB1dERldGFpbCwgbG9jYWxNb2RlbFtpbnB1dERldGFpbC5uYW1lXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZm9ybVJlbmRlcmVkJCA9IGZvcmtKb2luKGFzeW5jR2V0cyk7XHJcbiAgICAgICAgdGhpcy5mb3JtUmVuZGVyZWQkLnN1YnNjcmliZShyZXN1bHRzID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Zvcm0gcmVuZGVyaW5nJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybSA9IG5ldyBGb3JtR3JvdXAoZm9ybUdyb3VwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgZm9ybVZhbGlkYXRvcnMgPSBbXTtcclxuICAgICAgICBpZiAodGhpcy5pbnB1dEJ1aWxkZXJEZWZpbml0aW9uLmN1c3RvbVZhbGlkYXRvcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dEJ1aWxkZXJEZWZpbml0aW9uLmN1c3RvbVZhbGlkYXRvcnMuZm9yRWFjaCh2YWxpZGF0b3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgZm9ybVZhbGlkYXRvcnMucHVzaCh7fSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mb3JtID0gbmV3IEZvcm1Hcm91cChmb3JtR3JvdXAsIGZvcm1WYWxpZGF0b3JzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1hbmlwdWxhdGVWYWx1ZXNUb09iamVjdHMoZm9ybUNvbnRyb2w6IEZvcm1Db250cm9sLCBpbnB1dERldGFpbDogSW5wdXREZXRhaWxSZWZlcmVuY2VWYWx1ZXMsIGlucHV0VmFsdWU6IGFueSkge1xyXG4gICAgICAgIGlmIChpbnB1dERldGFpbC50eXBlID09PSBJbnB1dFR5cGVzLm11bHRpc2VsZWN0KSB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZFZhbHVlcyA9IHRoaXMuZGF0YVNvdXJjZUxvb2t1cFtpbnB1dERldGFpbC5uYW1lXS5maWx0ZXIoZHMgPT4gaW5wdXRWYWx1ZS5pbmNsdWRlcyhkcy52YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChfID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbC5zZXRWYWx1ZShmb3VuZFZhbHVlcywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmx5U2VsZjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdEV2ZW50OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTm93IHdlIGhhdmUgdGhlIHZhbHVlcywgZmluZCB0aGUgUmVmZXJlbmNlVmFsdWUgdGhhdCBtYXRjaGVzIHRoZSBpbnB1dFZhbHVlIGZyb20gYWJvdmVcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2xvbmVkSW5wdXRNb2RlbFtpbnB1dERldGFpbC5uYW1lXSAmJiB0aGlzLmRhdGFTb3VyY2VMb29rdXBbaW5wdXREZXRhaWwubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnB1dFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvdW5kSW5wdXRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXRWYWx1ZSA9PT0gJ2ZpcnN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZElucHV0VmFsdWUgPSB0aGlzLmRhdGFTb3VyY2VMb29rdXBbaW5wdXREZXRhaWwubmFtZV1bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRJbnB1dFZhbHVlID0gdGhpcy5kYXRhU291cmNlTG9va3VwW2lucHV0RGV0YWlsLm5hbWVdIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp0cmlwbGUtZXF1YWxzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZChkcyA9PiBkcy52YWx1ZSAmJiBkcy52YWx1ZS50b1N0cmluZygpID09IGlucHV0VmFsdWUudG9TdHJpbmcoKSk7IC8vIEZ1bGwgb24gY29yZWNpb25cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kSW5wdXRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KF8gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2wuc2V0VmFsdWUoZm91bmRJbnB1dFZhbHVlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25seVNlbGY6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1pdEV2ZW50OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwYXJzZVZhbHVlKGlucHV0RGV0YWlsOiBJbnB1dERldGFpbCwgdmFsdWU6IHN0cmluZyk6IGFueSB7XHJcbiAgICAgICAgc3dpdGNoIChpbnB1dERldGFpbC50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgSW5wdXRUeXBlcy5jaGVja2JveDpcclxuICAgICAgICAgICAgY2FzZSBJbnB1dFR5cGVzLnN3aXRjaDoge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCkgPT09ICd0cnVlJyB8fCB2YWx1ZS50b1N0cmluZygpID09PSAnVHJ1ZScgfHwgdmFsdWUudG9TdHJpbmcoKSA9PT0gJzEnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgSW5wdXRUeXBlcy5udW1iZXI6XHJcbiAgICAgICAgICAgIGNhc2UgSW5wdXRUeXBlcy5yYXRpbmc6XHJcbiAgICAgICAgICAgIGNhc2UgSW5wdXRUeXBlcy5zcGlubmVyOiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIElucHV0VHlwZXMuZGF0ZTpcclxuICAgICAgICAgICAgY2FzZSBJbnB1dFR5cGVzLmRhdGV0aW1lOlxyXG4gICAgICAgICAgICBjYXNlIElucHV0VHlwZXMudGltZToge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVBc0RhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKDxJbnB1dERldGFpbERhdGVUaW1lPmlucHV0RGV0YWlsKS5mb3JjZVVUQykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBadWx1RGF0ZUhlbHBlci5nZXRHTVREYXRlKHZhbHVlQXNEYXRlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlQXNEYXRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEZWZhdWx0IGp1c3QgcGFzcyBiYWNrIG9yaWdpbmFsXHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmllbGRDaGFuZ2VkKGlucHV0RGV0YWlsOiBJbnB1dERldGFpbCwgdmFsdWU6IGFueSkge1xyXG4gICAgICAgIGxldCByZXR1cm5lZFZhbHVlOiBhbnk7XHJcblxyXG4gICAgICAgIC8vIElmIHdlIGFyZSBhbnkgJ09iamVjdCcgdHlwZSBpbnB1dCBqdXN0IHJldHVybiB0aGUgb2JqZWN0LiBTaW1wbGVzLlxyXG4gICAgICAgIGlmIChpbnB1dERldGFpbC50eXBlICYmIGlucHV0RGV0YWlsLnR5cGUuZW5kc1dpdGgoJ29iamVjdCcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybmVkVmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0RGV0YWlsLnR5cGUgPT09IElucHV0VHlwZXMuZmlsZWF0dGFjaCkge1xyXG4gICAgICAgICAgICByZXR1cm5lZFZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgKGlucHV0RGV0YWlsLnR5cGUgJiYgaW5wdXREZXRhaWwudHlwZSA9PT0gSW5wdXRUeXBlcy5kYXRlKSB8fFxyXG4gICAgICAgICAgICBpbnB1dERldGFpbC50eXBlID09PSBJbnB1dFR5cGVzLmRhdGV0aW1lIHx8XHJcbiAgICAgICAgICAgIGlucHV0RGV0YWlsLnR5cGUgPT09IElucHV0VHlwZXMudGltZVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAoKDxJbnB1dERldGFpbERhdGVUaW1lPmlucHV0RGV0YWlsKS5mb3JjZVVUQykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuZWRWYWx1ZSA9IFp1bHVEYXRlSGVscGVyLnNldEdNVERhdGUodmFsdWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuZWRWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dERldGFpbC50eXBlID09PSBJbnB1dFR5cGVzLnNwaW5uZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuZWRWYWx1ZSA9IE51bWJlcih2YWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dERldGFpbC50eXBlICYmIGlucHV0RGV0YWlsLnR5cGUgPT09IElucHV0VHlwZXMubXVsdGlzZWxlY3QpIHtcclxuICAgICAgICAgICAgLy8gVGhpcyBpcyBhbiBhcnJheVxyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFzQXJyYXkgPSB2YWx1ZSBhcyBBcnJheTxSZWZlcmVuY2VWYWx1ZUl0ZW0+O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuZWRWYWx1ZSA9IGFzQXJyYXkubWFwKHJlZlZhbCA9PiByZWZWYWwudmFsdWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuZWRWYWx1ZSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5lZFZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybmVkVmFsdWUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybmVkVmFsdWUgPSB2YWx1ZS52YWx1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybmVkVmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIGxpc3RlbmVyc1xyXG4gICAgICAgIHRoaXMudmFsdWVVcGRhdGVkLmVtaXQoW2lucHV0RGV0YWlsLm5hbWUsIHJldHVybmVkVmFsdWVdKTtcclxuXHJcbiAgICAgICAgLy8gRG8gV2UgbmVlZCB0byBub3RpZnkgYW5vdGhlciBpbnB1dCBvZiB0aGlzIGNoYW5nZT9cclxuICAgICAgICB0aGlzLmNoZWNrRm9yRGVwZW5kZW5jaWVzKGlucHV0RGV0YWlsLCByZXR1cm5lZFZhbHVlKTtcclxuXHJcbiAgICAgICAgLy8gRmxhdHRlbiBvdXQgT2JqZWN0cyB0byB2YWx1ZVxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRNb2RlbCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY2xvbmVkSW5wdXRNb2RlbCk7XHJcblxyXG4gICAgICAgIHVwZGF0ZWRNb2RlbFtpbnB1dERldGFpbC5uYW1lXSA9IHJldHVybmVkVmFsdWU7XHJcblxyXG4gICAgICAgIC8vIFRlbGwgc3Vic2NyaWJlcnMgd2UgaGF2ZSBjaGFuZ2VzXHJcbiAgICAgICAgdGhpcy5tb2RlbFVwZGF0ZWQuZW1pdCh1cGRhdGVkTW9kZWwpO1xyXG4gICAgICAgIHRoaXMuY2xvbmVkSW5wdXRNb2RlbCA9IHVwZGF0ZWRNb2RlbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrRm9yRGVwZW5kZW5jaWVzKGlucHV0RGV0YWlsOiBJbnB1dERldGFpbCwgdXBkYXRlZFZhbHVlOiBhbnkpIHtcclxuICAgICAgICB0aGlzLmZpbHRlcmVkSW5wdXREZXRhaWxzLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm0gJiZcclxuICAgICAgICAgICAgICAgIGlucHV0Lmhhc093blByb3BlcnR5KCdyZWZlcmVuY2VWYWx1ZVNlZWREZXBlbmRlbmN5JykgJiZcclxuICAgICAgICAgICAgICAgICg8SW5wdXREZXRhaWxSZWZlcmVuY2VWYWx1ZXM+aW5wdXQpLnJlZmVyZW5jZVZhbHVlU2VlZERlcGVuZGVuY3kgJiZcclxuICAgICAgICAgICAgICAgICg8SW5wdXREZXRhaWxSZWZlcmVuY2VWYWx1ZXM+aW5wdXQpLnJlZmVyZW5jZVZhbHVlU2VlZERlcGVuZGVuY3kgPT09IGlucHV0RGV0YWlsLm5hbWVcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWREYXRhU291cmNlKGlucHV0LCB1cGRhdGVkVmFsdWUsICg8SW5wdXREZXRhaWxSZWZlcmVuY2VWYWx1ZXM+aW5wdXQpLnJlZmVyZW5jZVZhbHVlQ2hpbGRMZXZlbCkuc3Vic2NyaWJlKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZUxvb2t1cFtpbnB1dC5uYW1lXSA9IGRhdGEucmVmZXJlbmNlVmFsdWVJdGVtcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybUNvbnRyb2wgPSB0aGlzLmZvcm0uY29udHJvbHNbaW5wdXREZXRhaWwubmFtZV0gYXMgRm9ybUNvbnRyb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW5pcHVsYXRlVmFsdWVzVG9PYmplY3RzKGZvcm1Db250cm9sLCBpbnB1dERldGFpbCBhcyBJbnB1dERldGFpbFJlZmVyZW5jZVZhbHVlcywgZm9ybUNvbnRyb2wudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWREYXRhU291cmNlKGlucHV0RGV0YWlsOiBJbnB1dERldGFpbCwgc2VlZDogc3RyaW5nID0gJycsIGNoaWxkRGVwdGggPSAwKTogT2JzZXJ2YWJsZTxSZWZlcmVuY2VWYWx1ZT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlZlZhbHVlc1NlcnZpY2UuZ2V0UmVmZXJlbmNlVmFsdWUoKDxJbnB1dERldGFpbFJlZmVyZW5jZVZhbHVlcz5pbnB1dERldGFpbCkucmVmZXJlbmNlVmFsdWVOYW1lLCBzZWVkLCBjaGlsZERlcHRoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1hcFZhbGlkYXRvcnMoaW5wdXREZXRhaWw6IElucHV0RGV0YWlsKSB7XHJcbiAgICAgICAgY29uc3QgZm9ybVZhbGlkYXRvcnMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKGlucHV0RGV0YWlsKSB7XHJcbiAgICAgICAgICAgIC8vIFJlcXVpcmVkXHJcbiAgICAgICAgICAgIGlmIChpbnB1dERldGFpbC52YWxpZGF0ZVJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtVmFsaWRhdG9ycy5wdXNoKFZhbGlkYXRvcnMucmVxdWlyZWQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZXF1aXJlZFRydWVcclxuICAgICAgICAgICAgaWYgKGlucHV0RGV0YWlsLnZhbGlkYXRlUmVxdWlyZWRUcnVlKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtVmFsaWRhdG9ycy5wdXNoKFZhbGlkYXRvcnMucmVxdWlyZWRUcnVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRU1haWxcclxuICAgICAgICAgICAgaWYgKGlucHV0RGV0YWlsLnZhbGlkYXRlRW1haWwpIHtcclxuICAgICAgICAgICAgICAgIGZvcm1WYWxpZGF0b3JzLnB1c2goVmFsaWRhdG9ycy5lbWFpbCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFBhdHRlcm5cclxuICAgICAgICAgICAgaWYgKGlucHV0RGV0YWlsLnZhbGlkYXRlUGF0dGVybikge1xyXG4gICAgICAgICAgICAgICAgZm9ybVZhbGlkYXRvcnMucHVzaChWYWxpZGF0b3JzLnBhdHRlcm4oaW5wdXREZXRhaWwudmFsaWRhdGVQYXR0ZXJuKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE1pbiBMZW5ndGhcclxuICAgICAgICAgICAgaWYgKGlucHV0RGV0YWlsLnZhbGlkYXRlTWluTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtVmFsaWRhdG9ycy5wdXNoKFZhbGlkYXRvcnMubWluTGVuZ3RoKGlucHV0RGV0YWlsLnZhbGlkYXRlTWluTGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0RGV0YWlsLnZhbGlkYXRlTWluTGVuZ3RoTWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0RGV0YWlsLnZhbGlkYXRlTWluTGVuZ3RoTWVzc2FnZSA9IGAke2lucHV0RGV0YWlsLmxhYmVsfSBtdXN0IGJlIGEgbWluaW11bSBsZW5ndGggb2YgJHtpbnB1dERldGFpbC52YWxpZGF0ZU1pbkxlbmd0aH1gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBNYXggTGVuZ3RoXHJcbiAgICAgICAgICAgIGlmIChpbnB1dERldGFpbC52YWxpZGF0ZU1heExlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZm9ybVZhbGlkYXRvcnMucHVzaChWYWxpZGF0b3JzLm1heExlbmd0aChpbnB1dERldGFpbC52YWxpZGF0ZU1heExlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dERldGFpbC52YWxpZGF0ZU1heExlbmd0aE1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dERldGFpbC52YWxpZGF0ZU1heExlbmd0aE1lc3NhZ2UgPSBgJHtpbnB1dERldGFpbC5sYWJlbH0gbXVzdCBiZSBhIG1heCBsZW5ndGggb2YgJHtpbnB1dERldGFpbC52YWxpZGF0ZU1pbkxlbmd0aH1gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZm9ybVZhbGlkYXRvcnM7XHJcbiAgICB9XHJcbn1cclxuIiwiPGZvcm1cclxuICAgIG5vdmFsaWRhdGVcclxuICAgICpuZ0lmPVwiKGZvcm1SZW5kZXJlZCQgfCBhc3luYykgJiYgZm9ybUJ1aWx0ICYmIGlucHV0QnVpbGRlckRlZmluaXRpb24gJiYgZmlsdGVyZWRJbnB1dERldGFpbHNcIlxyXG4gICAgW2NsYXNzLm5vUGFkZGluZ109XCJpbnB1dEJ1aWxkZXJEZWZpbml0aW9uLmlucHV0TG9jYXRpb24gPT09ICdpbmxpbmUnXCJcclxuICAgIFtjbGFzcy5mb3JtLWdyb3VwXT1cImlucHV0QnVpbGRlckRlZmluaXRpb24uaW5wdXRMb2NhdGlvbiAhPT0gJ2lubGluZSdcIlxyXG4gICAgY2xhc3M9XCJwLWdyaWQgdWktZmx1aWRcIlxyXG4gICAgKG5nU3VibWl0KT1cIm9uU3VibWl0KGZvcm0pXCJcclxuICAgIFtmb3JtR3JvdXBdPVwiZm9ybVwiXHJcbj5cclxuICAgIDxkaXZcclxuICAgICAgICBbY2xhc3NOYW1lXT1cImNvbnRyb2xTdHlsZVwiXHJcbiAgICAgICAgW2NsYXNzLm5vUGFkZGluZ109XCJpbnB1dEJ1aWxkZXJEZWZpbml0aW9uLmlucHV0TG9jYXRpb24gPT09ICdpbmxpbmUnXCJcclxuICAgICAgICAqbmdGb3I9XCJsZXQgaW5wdXQgb2YgZmlsdGVyZWRJbnB1dERldGFpbHNcIlxyXG4gICAgPlxyXG4gICAgICAgIDxkaXYgW25nU3dpdGNoXT1cImlucHV0LnR5cGVcIiBbY2xhc3NOYW1lXT1cImdldENvbnRhaW5lckNsYXNzKGlucHV0KVwiPlxyXG4gICAgICAgICAgICA8IS0tIG51bGwgPT09IEJsYW5rIC0tPlxyXG4gICAgICAgICAgICA8c3BhbiAqbmdTd2l0Y2hDYXNlPVwiJ251bGwnXCIgY2xhc3M9XCJwLWZsb2F0LWxhYmVsXCI+IDwvc3Bhbj5cclxuXHJcbiAgICAgICAgICAgIDwhLS0gdGV4dGJveCAtLT5cclxuICAgICAgICAgICAgPHNwYW4gKm5nU3dpdGNoQ2FzZT1cIid0ZXh0Ym94J1wiIGNsYXNzPVwicC1mbG9hdC1sYWJlbFwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgW3RhYmluZGV4XT1cImlucHV0LnRhYmluZGV4XCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHRJbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCIhaW5wdXQubWFza1wiXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtmb3JtQ29udHJvbE5hbWVdPVwiaW5wdXQubmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2lkXT1cImlucHV0Lm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBJbnB1dFRleHRcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgW2Zvcl09XCJpbnB1dC5uYW1lXCI+e3sgZ2V0TGFiZWwoaW5wdXQpIH19PC9sYWJlbD5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG5cclxuICAgICAgICAgICAgPCEtLSBwYXNzd29yZCAtLT5cclxuICAgICAgICAgICAgPHNwYW4gKm5nU3dpdGNoQ2FzZT1cIidwYXNzd29yZCdcIiBjbGFzcz1cInAtZmxvYXQtbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIFt0YWJpbmRleF09XCJpbnB1dC50YWJpbmRleFwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0SW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiIWlucHV0Lm1hc2tcIlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2Zvcm1Db250cm9sTmFtZV09XCJpbnB1dC5uYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICBbaWRdPVwiaW5wdXQubmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgcFBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIFtmb3JdPVwiaW5wdXQubmFtZVwiPnt7IGdldExhYmVsKGlucHV0KSB9fTwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuXHJcbiAgICAgICAgICAgIDwhLS0gZW1haWwgLS0+XHJcbiAgICAgICAgICAgIDxzcGFuICpuZ1N3aXRjaENhc2U9XCInZW1haWwnXCIgY2xhc3M9XCJwLWZsb2F0LWxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICBbdGFiaW5kZXhdPVwiaW5wdXQudGFiaW5kZXhcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dElucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIiFpbnB1dC5tYXNrXCJcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtmb3JtQ29udHJvbE5hbWVdPVwiaW5wdXQubmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2lkXT1cImlucHV0Lm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBJbnB1dFRleHRcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWw+e3sgZ2V0TGFiZWwoaW5wdXQpIH19PC9sYWJlbD5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG5cclxuICAgICAgICAgICAgPCEtLSBrZXlmaWx0ZXIvbnVtYmVyIC0tPlxyXG4gICAgICAgICAgICA8c3BhbiAqbmdTd2l0Y2hDYXNlPVwiJ251bWJlcidcIiBjbGFzcz1cInAtZmxvYXQtbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIFt0YWJpbmRleF09XCJpbnB1dC50YWJpbmRleFwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0SW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICBbZm9ybUNvbnRyb2xOYW1lXT1cImlucHV0Lm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtpZF09XCJpbnB1dC5uYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICBwS2V5RmlsdGVyPVwibnVtXCJcclxuICAgICAgICAgICAgICAgICAgICBwSW5wdXRUZXh0XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsPnt7IGdldExhYmVsKGlucHV0KSB9fTwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuXHJcbiAgICAgICAgICAgIDwhLS0gc2xpZGVyIC0tPlxyXG4gICAgICAgICAgICA8c3BhbiAqbmdTd2l0Y2hDYXNlPVwiJ3NsaWRlcidcIiBjbGFzcz1cInAtZmxvYXQtbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgIDxwLXNsaWRlclxyXG4gICAgICAgICAgICAgICAgICAgIFt0YWJpbmRleF09XCJpbnB1dC50YWJpbmRleFwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2Zvcm1Db250cm9sTmFtZV09XCJpbnB1dC5uYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICBbaWRdPVwiaW5wdXQubmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW21pbl09XCJpbnB1dC5taW5cIlxyXG4gICAgICAgICAgICAgICAgICAgIFttYXhdPVwiaW5wdXQubWF4XCJcclxuICAgICAgICAgICAgICAgICAgICBbc3RlcF09XCJpbnB1dC5zdGVwXCJcclxuICAgICAgICAgICAgICAgID48L3Atc2xpZGVyPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsPnt7IGdldExhYmVsKGlucHV0KSB9fTwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuXHJcbiAgICAgICAgICAgIDwhLS0gTWFzayAtLT5cclxuICAgICAgICAgICAgPHNwYW4gKm5nU3dpdGNoQ2FzZT1cIidtYXNrJ1wiPlxyXG4gICAgICAgICAgICAgICAgPHAtaW5wdXRNYXNrXHJcbiAgICAgICAgICAgICAgICAgICAgW3RhYmluZGV4XT1cImlucHV0LnRhYmluZGV4XCJcclxuICAgICAgICAgICAgICAgICAgICBbbWFza109XCJpbnB1dC5tYXNrXCJcclxuICAgICAgICAgICAgICAgICAgICBbaWRdPVwiaW5wdXQubmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2Zvcm1Db250cm9sXT1cImZvcm0uY29udHJvbHNbaW5wdXQubmFtZV1cIlxyXG4gICAgICAgICAgICAgICAgPjwvcC1pbnB1dE1hc2s+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWw+e3sgZ2V0TGFiZWwoaW5wdXQpIH19PC9sYWJlbD5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG5cclxuICAgICAgICAgICAgPCEtLSBTcGlubmVyIC0tPlxyXG4gICAgICAgICAgICA8c3BhbiAqbmdTd2l0Y2hDYXNlPVwiJ3NwaW5uZXInXCI+XHJcbiAgICAgICAgICAgICAgICA8cC1zcGlubmVyXHJcbiAgICAgICAgICAgICAgICAgICAgW3RhYmluZGV4XT1cImlucHV0LnRhYmluZGV4XCJcclxuICAgICAgICAgICAgICAgICAgICBbaWRdPVwiaW5wdXQubmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW21pbl09XCJpbnB1dC5taW5cIlxyXG4gICAgICAgICAgICAgICAgICAgIFttYXhdPVwiaW5wdXQubWF4XCJcclxuICAgICAgICAgICAgICAgICAgICBbZm9ybUNvbnRyb2xdPVwiZm9ybS5jb250cm9sc1tpbnB1dC5uYW1lXVwiXHJcbiAgICAgICAgICAgICAgICA+PC9wLXNwaW5uZXI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWw+e3sgZ2V0TGFiZWwoaW5wdXQpIH19PC9sYWJlbD5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG5cclxuICAgICAgICAgICAgPCEtLSBUZXh0QXJlYSAtLT5cclxuICAgICAgICAgICAgPHNwYW4gKm5nU3dpdGNoQ2FzZT1cIid0ZXh0YXJlYSdcIiBjbGFzcz1cInAtZmxvYXQtbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dElucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBbdGFiaW5kZXhdPVwiaW5wdXQudGFiaW5kZXhcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtyb3dzXT1cImlucHV0LnJvd3NcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtwbGFjZWhvbGRlcl09XCJpbnB1dC5sYWJlbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcElucHV0VGV4dGFyZWFcclxuICAgICAgICAgICAgICAgICAgICBbZm9ybUNvbnRyb2xOYW1lXT1cImlucHV0Lm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuXHJcbiAgICAgICAgICAgIDwhLS0gQ2hlY2tib3ggLS0+XHJcbiAgICAgICAgICAgIDxzcGFuICpuZ1N3aXRjaENhc2U9XCInY2hlY2tib3gnXCI+XHJcbiAgICAgICAgICAgICAgICA8cC1jaGVja2JveFxyXG4gICAgICAgICAgICAgICAgICAgIFt0YWJpbmRleF09XCJpbnB1dC50YWJpbmRleFwiXHJcbiAgICAgICAgICAgICAgICAgICAgYmluYXJ5PVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2xhYmVsXT1cImlucHV0LmxhYmVsXCJcclxuICAgICAgICAgICAgICAgICAgICBbaWRdPVwiaW5wdXQubmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2Zvcm1Db250cm9sXT1cImZvcm0uY29udHJvbHNbaW5wdXQubmFtZV1cIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPC9wLWNoZWNrYm94PlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcblxyXG4gICAgICAgICAgICA8IS0tIFNpbXBsZSBEcm9wRG93biAtLT5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwLWZsb2F0LWxhYmVsXCIgKm5nU3dpdGNoQ2FzZT1cIidkcm9wZG93bidcIj5cclxuICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgW3N0eWxlXT1cInsgd2lkdGg6ICcxMDAlJyB9XCJcclxuICAgICAgICAgICAgICAgICAgICBbdGFiaW5kZXhdPVwiaW5wdXQudGFiaW5kZXhcIlxyXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvPVwiYm9keVwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkcm9wZG93bklucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBbaWRdPVwiaW5wdXQubmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NsZWFyPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW29wdGlvbnNdPVwiZGF0YVNvdXJjZUxvb2t1cFtpbnB1dC5uYW1lXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2ZpbHRlcl09XCJpbnB1dC5zZWxlY3RGaWx0ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFLZXk9XCJ2YWx1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uTGFiZWw9XCJkaXNwbGF5XCJcclxuICAgICAgICAgICAgICAgICAgICBbZm9ybUNvbnRyb2xOYW1lXT1cImlucHV0Lm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICNkcm9wRG93blxyXG4gICAgICAgICAgICAgICAgPjwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBbZm9yXT1cImlucHV0Lm5hbWVcIj57eyBnZXRMYWJlbChpbnB1dCkgfX08L2xhYmVsPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcblxyXG4gICAgICAgICAgICA8IS0tIERyb3BEb3duIFJldHVybnMgT2JqZWN0IC0tPlxyXG4gICAgICAgICAgICA8c3BhbiAqbmdTd2l0Y2hDYXNlPVwiJ2Ryb3Bkb3dub2JqZWN0J1wiIGNsYXNzPVwicC1mbG9hdC1sYWJlbFwiID5cclxuICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG89XCJib2R5XCJcclxuICAgICAgICAgICAgICAgICAgICBbc3R5bGVdPVwieyB3aWR0aDogJzEwMCUnIH1cIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZHJvcGRvd25JbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2lkXT1cImlucHV0Lm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtvcHRpb25zXT1cImRhdGFTb3VyY2VMb29rdXBbaW5wdXQubmFtZV1cIlxyXG4gICAgICAgICAgICAgICAgICAgIFtmaWx0ZXJdPVwiaW5wdXQuc2VsZWN0RmlsdGVyXCJcclxuICAgICAgICAgICAgICAgICAgICBzaG93Q2xlYXI9XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgICAgICBbdGFiaW5kZXhdPVwiaW5wdXQudGFiaW5kZXhcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsPVwiZGlzcGxheVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2Zvcm1Db250cm9sTmFtZV09XCJpbnB1dC5uYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAjZHJvcERvd25cclxuICAgICAgICAgICAgICAgID48L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgW2Zvcl09XCJpbnB1dC5uYW1lXCI+e3sgZ2V0TGFiZWwoaW5wdXQpIH19PC9sYWJlbD5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG5cclxuICAgICAgICAgICAgPCEtLSBBdXRvQ29tcGxldGUgLS0+XHJcbiAgICAgICAgICAgIDxwLWF1dG9Db21wbGV0ZVxyXG4gICAgICAgICAgICAgICAgKm5nU3dpdGNoQ2FzZT1cIidhdXRvY29tcGxldGUnXCJcclxuICAgICAgICAgICAgICAgIFtzdHlsZV09XCJ7IHdpZHRoOiAnMTAwJScgfVwiXHJcbiAgICAgICAgICAgICAgICBhcHBlbmRUbz1cImJvZHlcIlxyXG4gICAgICAgICAgICAgICAgZGF0YUtleT1cInZhbHVlXCJcclxuICAgICAgICAgICAgICAgIFt0YWJpbmRleF09XCJpbnB1dC50YWJpbmRleFwiXHJcbiAgICAgICAgICAgICAgICBmaWVsZD1cImRpc3BsYXlcIlxyXG4gICAgICAgICAgICAgICAgW2Ryb3Bkb3duXT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgW2Zvcm1Db250cm9sTmFtZV09XCJpbnB1dC5uYW1lXCJcclxuICAgICAgICAgICAgICAgIFtzdWdnZXN0aW9uc109XCJkYXRhU291cmNlTG9va3VwW2lucHV0Lm5hbWVdXCJcclxuICAgICAgICAgICAgICAgIChjb21wbGV0ZU1ldGhvZCk9XCJzZWFyY2hBdXRvQ29tcGxldGUoJGV2ZW50LCBpbnB1dClcIlxyXG4gICAgICAgICAgICAgICAgW3BsYWNlaG9sZGVyXT1cImdldExhYmVsKGlucHV0KVwiXHJcbiAgICAgICAgICAgID48L3AtYXV0b0NvbXBsZXRlPlxyXG5cclxuICAgICAgICAgICAgPCEtLSBDaGlwcyAtLT5cclxuICAgICAgICAgICAgPHNwYW4gKm5nU3dpdGNoQ2FzZT1cIidjaGlwcydcIiBjbGFzcz1cInAtZmxvYXQtbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgIDxwLWNoaXBzIFt0YWJpbmRleF09XCJpbnB1dC50YWJpbmRleFwiIFtpZF09XCJpbnB1dC5uYW1lXCIgW3BsYWNlaG9sZGVyXT1cImlucHV0LmxhYmVsXCIgW2Zvcm1Db250cm9sTmFtZV09XCJpbnB1dC5uYW1lXCI+PC9wLWNoaXBzPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcblxyXG4gICAgICAgICAgICA8IS0tIG11bHRpc2VsZWN0IC0tPlxyXG4gICAgICAgICAgICA8c3BhbiAqbmdTd2l0Y2hDYXNlPVwiJ211bHRpc2VsZWN0J1wiIGNsYXNzPVwicC1mbG9hdC1sYWJlbFwiPlxyXG4gICAgICAgICAgICAgICAgPCEtLSA8bGFiZWwgY2xhc3M9XCJzbWFsbC1sYWJlbFwiIFtmb3JdPVwiaW5wdXQubmFtZVwiPnt7Z2V0TGFiZWwoaW5wdXQpfX08L2xhYmVsPiAtLT5cclxuICAgICAgICAgICAgICAgIDxwLW11bHRpU2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgW3RhYmluZGV4XT1cImlucHV0LnRhYmluZGV4XCJcclxuICAgICAgICAgICAgICAgICAgICBbaWRdPVwiaW5wdXQubmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtdWx0aS1zZWxlY3RcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtmaWx0ZXJQbGFjZUhvbGRlcl09XCJpbnB1dC5uYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICBbZm9ybUNvbnRyb2xOYW1lXT1cImlucHV0Lm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtmaWx0ZXJdPVwiZmFsc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvPVwiYm9keVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uTGFiZWw9XCJkaXNwbGF5XCJcclxuICAgICAgICAgICAgICAgICAgICBkYXRhS2V5PVwidmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtvcHRpb25zXT1cImRhdGFTb3VyY2VMb29rdXBbaW5wdXQubmFtZV1cIlxyXG4gICAgICAgICAgICAgICAgPjwvcC1tdWx0aVNlbGVjdD5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG5cclxuICAgICAgICAgICAgPCEtLSBJbnB1dFN3aXRjaCAtLT5cclxuICAgICAgICAgICAgPHNwYW4gKm5nU3dpdGNoQ2FzZT1cIidzd2l0Y2gnXCI+XHJcbiAgICAgICAgICAgICAgICA8cC1pbnB1dFN3aXRjaCBbdGFiaW5kZXhdPVwiaW5wdXQudGFiaW5kZXhcIiBbaWRdPVwiaW5wdXQubmFtZVwiIFtmb3JtQ29udHJvbE5hbWVdPVwiaW5wdXQubmFtZVwiPiA8L3AtaW5wdXRTd2l0Y2g+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJzd2l0Y2gtbGFiZWxcIj57eyBnZXRMYWJlbChpbnB1dCkgfX08L2xhYmVsPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcblxyXG4gICAgICAgICAgICA8IS0tIERhdGVUaW1lIC0tPlxyXG4gICAgICAgICAgICA8c3BhbiAqbmdTd2l0Y2hDYXNlPVwiJ2RhdGV0aW1lJ1wiIGNsYXNzPVwicC1mbG9hdC1sYWJlbFwiPlxyXG4gICAgICAgICAgICAgICAgPHAtY2FsZW5kYXJcclxuICAgICAgICAgICAgICAgICAgICBbdGFiaW5kZXhdPVwiaW5wdXQudGFiaW5kZXhcIlxyXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvPVwiYm9keVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW3Nob3dCdXR0b25CYXJdPVwiYXBwU2V0dGluZ3MuZ2V0Qm9vbGVhbignaW5wdXREYXRlU2hvd0J1dHRvbkJhcicpIHwgYXN5bmNcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtzaG93SWNvbl09XCJhcHBTZXR0aW5ncy5nZXRCb29sZWFuKCdpbnB1dFNob3dDYWxlbmRhckljb24nKSB8IGFzeW5jXCJcclxuICAgICAgICAgICAgICAgICAgICBbZGF0ZUZvcm1hdF09XCJhcHBTZXR0aW5ncy5nZXRTdHJpbmcoJ2lucHV0RGF0ZUZvcm1hdCcpIHwgYXN5bmNcIlxyXG4gICAgICAgICAgICAgICAgICAgIHNob3dUaW1lPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgaG91ckZvcm1hdD1cIjI0XCJcclxuICAgICAgICAgICAgICAgICAgICBbZm9ybUNvbnRyb2xOYW1lXT1cImlucHV0Lm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtpZF09XCJpbnB1dC5uYW1lXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDwvcC1jYWxlbmRhcj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbD57eyBnZXRMYWJlbChpbnB1dCkgfX08L2xhYmVsPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcblxyXG4gICAgICAgICAgICA8IS0tIERhdGVUaW1lIFVUQyAtLT5cclxuICAgICAgICAgICAgPHNwYW4gKm5nU3dpdGNoQ2FzZT1cIidkYXRldGltZVVUQydcIiBjbGFzcz1cInAtZmxvYXQtbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgIDxwLWNhbGVuZGFyXHJcbiAgICAgICAgICAgICAgICAgICAgW3RhYmluZGV4XT1cImlucHV0LnRhYmluZGV4XCJcclxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbz1cImJvZHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtzaG93QnV0dG9uQmFyXT1cImFwcFNldHRpbmdzLmdldEJvb2xlYW4oJ2lucHV0RGF0ZVNob3dCdXR0b25CYXInKSB8IGFzeW5jXCJcclxuICAgICAgICAgICAgICAgICAgICBbc2hvd0ljb25dPVwiYXBwU2V0dGluZ3MuZ2V0Qm9vbGVhbignaW5wdXRTaG93Q2FsZW5kYXJJY29uJykgfCBhc3luY1wiXHJcbiAgICAgICAgICAgICAgICAgICAgW2RhdGVGb3JtYXRdPVwiYXBwU2V0dGluZ3MuZ2V0U3RyaW5nKCdpbnB1dERhdGVGb3JtYXQnKSB8IGFzeW5jXCJcclxuICAgICAgICAgICAgICAgICAgICBzaG93VGltZT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIGhvdXJGb3JtYXQ9XCIyNFwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2Zvcm1Db250cm9sTmFtZV09XCJpbnB1dC5uYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICBbaWRdPVwiaW5wdXQubmFtZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8L3AtY2FsZW5kYXI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWw+e3sgZ2V0TGFiZWwoaW5wdXQpIH19PC9sYWJlbD5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG5cclxuICAgICAgICAgICAgPCEtLSBEYXRlIC0tPlxyXG4gICAgICAgICAgICA8c3BhbiAqbmdTd2l0Y2hDYXNlPVwiJ2RhdGUnXCIgY2xhc3M9XCJwLWZsb2F0LWxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgICA8cC1jYWxlbmRhclxyXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvPVwiYm9keVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW3RhYmluZGV4XT1cImlucHV0LnRhYmluZGV4XCJcclxuICAgICAgICAgICAgICAgICAgICBbc2hvd0J1dHRvbkJhcl09XCJhcHBTZXR0aW5ncy5nZXRCb29sZWFuKCdpbnB1dERhdGVTaG93QnV0dG9uQmFyJykgfCBhc3luY1wiXHJcbiAgICAgICAgICAgICAgICAgICAgW3Nob3dJY29uXT1cImFwcFNldHRpbmdzLmdldEJvb2xlYW4oJ2lucHV0U2hvd0NhbGVuZGFySWNvbicpIHwgYXN5bmNcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtkYXRlRm9ybWF0XT1cImFwcFNldHRpbmdzLmdldFN0cmluZygnaW5wdXREYXRlRm9ybWF0JykgfCBhc3luY1wiXHJcbiAgICAgICAgICAgICAgICAgICAgW2Zvcm1Db250cm9sTmFtZV09XCJpbnB1dC5uYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICBbaWRdPVwiaW5wdXQubmFtZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8L3AtY2FsZW5kYXI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWw+e3sgZ2V0TGFiZWwoaW5wdXQpIH19PC9sYWJlbD5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG5cclxuICAgICAgICAgICAgPCEtLSBUaW1lIC0tPlxyXG4gICAgICAgICAgICA8c3BhbiAqbmdTd2l0Y2hDYXNlPVwiJ3RpbWUnXCIgY2xhc3M9XCJwLWZsb2F0LWxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgICA8cC1jYWxlbmRhclxyXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvPVwiYm9keVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW3RhYmluZGV4XT1cImlucHV0LnRhYmluZGV4XCJcclxuICAgICAgICAgICAgICAgICAgICB0aW1lT25seT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHNob3dUaW1lPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW3Nob3dCdXR0b25CYXJdPVwiYXBwU2V0dGluZ3MuZ2V0Qm9vbGVhbignaW5wdXREYXRlU2hvd0J1dHRvbkJhcicpIHwgYXN5bmNcIlxyXG4gICAgICAgICAgICAgICAgICAgIGhvdXJGb3JtYXQ9XCIyNFwiXHJcbiAgICAgICAgICAgICAgICAgICAgW3Nob3dJY29uXT1cImFwcFNldHRpbmdzLmdldEJvb2xlYW4oJ2lucHV0U2hvd0NhbGVuZGFySWNvbicpIHwgYXN5bmNcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtmb3JtQ29udHJvbE5hbWVdPVwiaW5wdXQubmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2lkXT1cImlucHV0Lm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPC9wLWNhbGVuZGFyPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsPnt7IGdldExhYmVsKGlucHV0KSB9fTwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuXHJcbiAgICAgICAgICAgIDwhLS0gSlNvbiBFZGl0IC0tPlxyXG4gICAgICAgICAgICA8c3BhbiAqbmdTd2l0Y2hDYXNlPVwiJ2pzb24nXCIgY2xhc3M9XCJwLWZsb2F0LWxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgICA8anNvbi1lZGl0b3IgW3RhYmluZGV4XT1cImlucHV0LnRhYmluZGV4XCIgW29wdGlvbnNdPVwiZWRpdG9yT3B0aW9uc1wiIFtkYXRhXT1cImlucHV0LnZhbHVlXCI+PC9qc29uLWVkaXRvcj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbD57eyBnZXRMYWJlbChpbnB1dCkgfX08L2xhYmVsPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcblxyXG4gICAgICAgICAgICA8IS0tIEZpbGUgQXR0YWNobWVudCAtLT5cclxuICAgICAgICAgICAgPHNwYW4gKm5nU3dpdGNoQ2FzZT1cIidmaWxlYXR0YWNoJ1wiIGNsYXNzPVwicC1mbG9hdC1sYWJlbFwiPlxyXG4gICAgICAgICAgICAgICAgPHAtZmlsZVVwbG9hZFxyXG4gICAgICAgICAgICAgICAgICAgIFt0YWJpbmRleF09XCJpbnB1dC50YWJpbmRleFwiXHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tVXBsb2FkPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2FjY2VwdF09XCJpbnB1dC5hY2NlcHQgfHwgdGhpcy5hbGxvd2VkRmlsZVR5cGVzXCJcclxuICAgICAgICAgICAgICAgICAgICBbbWF4RmlsZVNpemVdPVwiaW5wdXQubWF4RmlsZVNpemUgfHwgdGhpcy5tYXhGaWxlU2l6ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2hvb3NlTGFiZWw9XCJ7eyAnQ2hvb3NlIEZpbGUnIHwgdHJhbnNsYXRlIH19XCJcclxuICAgICAgICAgICAgICAgICAgICBhdXRvPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgKHVwbG9hZEhhbmRsZXIpPVwiYXR0YWNoRmlsZXMoJGV2ZW50LCBpbnB1dClcIlxyXG4gICAgICAgICAgICAgICAgPjwvcC1maWxlVXBsb2FkPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcblxyXG4gICAgICAgICAgICA8IS0tIFNlYXJjaCBUZXh0IC0tPlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9XCInc2VhcmNoJ1wiIGNsYXNzPVwidWktaW5wdXRncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwLWZsb2F0LWxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHN0eWxlPVwid2lkdGg6IDEwMCU7XCIgdHlwZT1cInRleHRcIiBbdGFiaW5kZXhdPVwiaW5wdXQudGFiaW5kZXhcIiBbZm9ybUNvbnRyb2xOYW1lXT1cImlucHV0Lm5hbWVcIiBbaWRdPVwiaW5wdXQubmFtZVwiIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWw+e3sgZ2V0TGFiZWwoaW5wdXQpIH19PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gcEJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWNvbj1cInVpLWljb24tc2VhcmNoXCI+PC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPCEtLSBEeW5hbWljIC0tPlxyXG4gICAgICAgICAgICA8c3BhbiAqbmdTd2l0Y2hDYXNlPVwiJ2R5bmFtaWMnXCIgY2xhc3M9XCJwLWZsb2F0LWxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dElucHV0XCIgW2lkXT1cImlucHV0Lm5hbWVcIj57eyBsb2FkQ29tcG9uZW50KGlucHV0KSB9fTwvZGl2PlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcblxyXG4gICAgICAgICAgICA8IS0tIERFRlVBTFQgdGV4dGJveCAtLT5cclxuICAgICAgICAgICAgPHNwYW4gKm5nU3dpdGNoRGVmYXVsdCBjbGFzcz1cInAtZmxvYXQtbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIFt0YWJpbmRleF09XCJpbnB1dC50YWJpbmRleFwiIFtmb3JtQ29udHJvbE5hbWVdPVwiaW5wdXQubmFtZVwiIFtpZF09XCJpbnB1dC5uYW1lXCIgcElucHV0VGV4dCAvPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsPnt7IGdldExhYmVsKGlucHV0KSB9fTwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPCEtLSBIZWxwIHRleHQgaGVyZSAtLT5cclxuICAgICAgICA8c3BhbiAqbmdJZj1cImlucHV0LmhlbHBcIiBjbGFzcz1cInAtY29sLTFcIj5cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSB1aS1pY29uLWluZm8gaGVscEljb25cIiBwVG9vbHRpcD1cInt7IGlucHV0LmhlbHAgfX1cIiB0b29sdGlwUG9zaXRpb249XCJib3R0b21cIj48L2k+XHJcbiAgICAgICAgPC9zcGFuPlxyXG5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzPVwidWktbWVzc2FnZSB1aS1tZXNzYWdlcy1lcnJvciB1aS1jb3JuZXItYWxsXCJcclxuICAgICAgICAgICAgKm5nSWY9XCJmb3JtLmdldChpbnB1dC5uYW1lKT8uaW52YWxpZCAmJiAoZm9ybS5nZXQoaW5wdXQubmFtZSk/LmRpcnR5IHx8IGZvcm0uZ2V0KGlucHV0Lm5hbWUpPy50b3VjaGVkIHx8IGZvcm1TdWJtaXR0ZWQpXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtLmdldChpbnB1dC5uYW1lKS5lcnJvcnMucmVxdWlyZWRcIj5cclxuICAgICAgICAgICAgICAgIHt7IGlucHV0LnZhbGlkYXRlUmVxdWlyZWQgfX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtLmdldChpbnB1dC5uYW1lKS5lcnJvcnMucmVxdWlyZWRUcnVlXCI+XHJcbiAgICAgICAgICAgICAgICB7eyBpbnB1dC52YWxpZGF0ZVJlcXVpcmVkVHJ1ZSB9fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cImZvcm0uZ2V0KGlucHV0Lm5hbWUpLmVycm9ycy5lbWFpbFwiPlxyXG4gICAgICAgICAgICAgICAge3sgaW5wdXQudmFsaWRhdGVFbWFpbCB9fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cImZvcm0uZ2V0KGlucHV0Lm5hbWUpLmVycm9ycy5wYXR0ZXJuXCI+XHJcbiAgICAgICAgICAgICAgICB7eyBpbnB1dC52YWxpZGF0ZVBhdHRlcm5NZXNzYWdlIH19XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZm9ybS5nZXQoaW5wdXQubmFtZSkuZXJyb3JzLm1pbmxlbmd0aFwiPlxyXG4gICAgICAgICAgICAgICAge3sgaW5wdXQudmFsaWRhdGVNaW5MZW5ndGhNZXNzYWdlIH19XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZm9ybS5nZXQoaW5wdXQubmFtZSkuZXJyb3JzLm1heGxlbmd0aFwiPlxyXG4gICAgICAgICAgICAgICAge3sgaW5wdXQudmFsaWRhdGVNYXhMZW5ndGhNZXNzYWdlIH19XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8IS0tIFtjbGFzc05hbWVdPVwiY29udHJvbFN0eWxlXCIgLS0+XHJcbiAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3M9XCJidXR0b24tbGluZVwiXHJcbiAgICAgICAgY2xhc3M9XCJwLWNvbC0xMlwiXHJcbiAgICAgICAgKm5nSWY9XCJpbnB1dEJ1aWxkZXJEZWZpbml0aW9uLmN1c3RvbUJ1dHRvblRleHQgfHwgaW5wdXRCdWlsZGVyRGVmaW5pdGlvbi5jYW5jZWxCdXR0b25UZXh0IHx8IGlucHV0QnVpbGRlckRlZmluaXRpb24ub2tCdXR0b25UZXh0XCJcclxuICAgID5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWNvbnRhaW5lciBwLWNvbC0zXCIgKm5nSWY9XCJpbnB1dEJ1aWxkZXJEZWZpbml0aW9uLmN1c3RvbUJ1dHRvblRleHRcIj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgcEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwib25DdXN0b20oKVwiXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInAtYnV0dG9uLWluZm9cIlxyXG4gICAgICAgICAgICAgICAgaWNvbj1cInt7IGlucHV0QnVpbGRlckRlZmluaXRpb24uY3VzdG9tQnV0dG9uSWNvbiB9fVwiXHJcbiAgICAgICAgICAgICAgICBpY29uUG9zPVwibGVmdFwiXHJcbiAgICAgICAgICAgICAgICBsYWJlbD1cInt7IGlucHV0QnVpbGRlckRlZmluaXRpb24uY3VzdG9tQnV0dG9uVGV4dCB9fVwiXHJcbiAgICAgICAgICAgID48L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWNvbnRhaW5lciBwLWNvbC0zXCIgKm5nSWY9XCJpbnB1dEJ1aWxkZXJEZWZpbml0aW9uLmNhbmNlbEJ1dHRvblRleHRcIj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgcEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwib25DYW5jZWwoKVwiXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInAtYnV0dG9uLXdhcm5pbmdcIlxyXG4gICAgICAgICAgICAgICAgaWNvbj1cInt7IGlucHV0QnVpbGRlckRlZmluaXRpb24uY2FuY2VsQnV0dG9uSWNvbiB9fVwiXHJcbiAgICAgICAgICAgICAgICBpY29uUG9zPVwibGVmdFwiXHJcbiAgICAgICAgICAgICAgICBsYWJlbD1cInt7IGlucHV0QnVpbGRlckRlZmluaXRpb24uY2FuY2VsQnV0dG9uVGV4dCB9fVwiXHJcbiAgICAgICAgICAgID48L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWNvbnRhaW5lciBwLWNvbC0zXCIgKm5nSWY9XCJpbnB1dEJ1aWxkZXJEZWZpbml0aW9uLm9rQnV0dG9uVGV4dFwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBwQnV0dG9uXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwicC1idXR0b24tc3VjY2Vzc1wiXHJcbiAgICAgICAgICAgICAgICBpY29uPVwie3sgaW5wdXRCdWlsZGVyRGVmaW5pdGlvbi5va0J1dHRvbkljb24gfX1cIlxyXG4gICAgICAgICAgICAgICAgaWNvblBvcz1cImxlZnRcIlxyXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJ7eyBpbnB1dEJ1aWxkZXJEZWZpbml0aW9uLm9rQnV0dG9uVGV4dCB9fVwiXHJcbiAgICAgICAgICAgID48L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L2Zvcm0+XHJcbiJdfQ==
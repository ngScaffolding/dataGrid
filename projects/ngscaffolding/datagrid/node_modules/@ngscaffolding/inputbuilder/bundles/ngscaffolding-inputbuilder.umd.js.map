{"version":3,"file":"ngscaffolding-inputbuilder.umd.js","sources":["../projects/ngscaffolding/inputbuilder/src/lib/components/editableTitle/editableTitle.component.html","../projects/ngscaffolding/inputbuilder/src/lib/components/editableTitle/editableTitle.component.ts","../../../../node_modules/tslib/tslib.es6.js","../../projects/ngscaffolding/inputbuilder/src/lib/inputBuilder/inputBuilder.component.html","../../projects/ngscaffolding/inputbuilder/src/lib/inputBuilder/inputBuilder.component.ts","../../projects/ngscaffolding/inputbuilder/src/lib/inputBuilderPopup/inputBuilderPopup.component.html","../../projects/ngscaffolding/inputbuilder/src/lib/inputBuilderPopup/inputBuilderPopup.component.ts","../../../projects/ngscaffolding/inputbuilder/src/lib/inputbuilder.module.ts","../../../../projects/ngscaffolding/inputbuilder/src/public-api.ts","../../../../projects/ngscaffolding/inputbuilder/src/ngscaffolding-inputbuilder.ts"],"sourcesContent":["<span *ngIf=\"!isEditing\" class=\"title-display\" (click)=\"mouseClicked()\" (mouseleave)=\"mouseLeave()\" (mouseenter)=\"mouseOver()\">{{title}}</span>\r\n\r\n<button *ngIf=\"displayIcon\" pButton class=\"p-button-rounded p-button-info p-button-text p-mr-2 p-mb-2\" type=\"button\" icon=\"pi pi-pencil\"></button>\r\n\r\n<input #inputTitle class=\"large-edit\" *ngIf=\"isEditing\" type=\"text\" (blur)=\"isEditing=false\" [(ngModel)]=\"editTitle\" (change)=\"textChanged()\" pInputText>\r\n","import { Component, Inject, forwardRef, Input, Output, EventEmitter, OnInit, OnChanges, SimpleChanges, ViewChild, ElementRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngs-editable-title',\r\n  templateUrl: 'editableTitle.component.html',\r\n  styleUrls: ['editableTitle.component.scss']\r\n})\r\nexport class EditableTitleComponent implements OnChanges {\r\n  @ViewChild('inputTitle', {static: false}) inputTitleElement: ElementRef;\r\n  @Input() title: string;\r\n  @Input() configObject: any;\r\n  @Input() readOnly: boolean;\r\n\r\n  @Output() titleChanged = new EventEmitter<string>();\r\n\r\n  editTitle: string;\r\n  displayIcon = false;\r\n  isEditing = false;\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.title) {\r\n      this.editTitle = changes.title.currentValue;\r\n      this.applyObject(changes.configObject);\r\n    }\r\n    if (changes.configObject) {\r\n      this.applyObject(changes.configObject);\r\n    }\r\n  }\r\n\r\n  // update Title with string replacement @@key## style\r\n  private applyObject(config: any) {\r\n    let newTitle = this.title;\r\n\r\n    if (config) {\r\n      for (const key in config) {\r\n        if (config.hasOwnProperty(key)) {\r\n          newTitle = newTitle.replace(`@@${key}##`, config[key]);\r\n        }\r\n      }\r\n      this.editTitle = newTitle;\r\n    }\r\n  }\r\n\r\n  mouseOver() {\r\n    if (!this.readOnly) {\r\n      this.displayIcon = true;\r\n    }\r\n  }\r\n  mouseLeave() {\r\n    this.displayIcon = false;\r\n  }\r\n  mouseClicked() {\r\n    if (!this.readOnly) {\r\n      this.isEditing = true;\r\n      this.displayIcon = false;\r\n    }\r\n    setTimeout(() => {\r\n      // this will make the execution after the above boolean has changed\r\n      this.inputTitleElement.nativeElement.focus();\r\n      this.inputTitleElement.nativeElement.select();\r\n    }, 0);\r\n  }\r\n\r\n  textChanged() {\r\n    this.titleChanged.emit(this.editTitle);\r\n  }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","<form\r\n    novalidate\r\n    *ngIf=\"(formRendered$ | async) && formBuilt && inputBuilderDefinition && filteredInputDetails\"\r\n    [class.noPadding]=\"inputBuilderDefinition.inputLocation === 'inline'\"\r\n    [class.form-group]=\"inputBuilderDefinition.inputLocation !== 'inline'\"\r\n    class=\"p-grid ui-fluid\"\r\n    (ngSubmit)=\"onSubmit(form)\"\r\n    [formGroup]=\"form\"\r\n>\r\n    <div\r\n        [className]=\"controlStyle\"\r\n        [class.noPadding]=\"inputBuilderDefinition.inputLocation === 'inline'\"\r\n        *ngFor=\"let input of filteredInputDetails\"\r\n    >\r\n        <div [ngSwitch]=\"input.type\" [className]=\"getContainerClass(input)\">\r\n            <!-- null === Blank -->\r\n            <span *ngSwitchCase=\"'null'\" class=\"p-float-label\"> </span>\r\n\r\n            <!-- textbox -->\r\n            <span *ngSwitchCase=\"'textbox'\" class=\"p-float-label\">\r\n                <input\r\n                    [tabindex]=\"input.tabindex\"\r\n                    class=\"textInput\"\r\n                    *ngIf=\"!input.mask\"\r\n                    type=\"text\"\r\n                    [formControlName]=\"input.name\"\r\n                    [id]=\"input.name\"\r\n                    pInputText\r\n                />\r\n                <label [for]=\"input.name\">{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- password -->\r\n            <span *ngSwitchCase=\"'password'\" class=\"p-float-label\">\r\n                <input\r\n                    [tabindex]=\"input.tabindex\"\r\n                    class=\"textInput\"\r\n                    *ngIf=\"!input.mask\"\r\n                    type=\"password\"\r\n                    [formControlName]=\"input.name\"\r\n                    [id]=\"input.name\"\r\n                    pPassword\r\n                />\r\n                <label [for]=\"input.name\">{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- email -->\r\n            <span *ngSwitchCase=\"'email'\" class=\"p-float-label\">\r\n                <input\r\n                    [tabindex]=\"input.tabindex\"\r\n                    class=\"textInput\"\r\n                    *ngIf=\"!input.mask\"\r\n                    type=\"email\"\r\n                    [formControlName]=\"input.name\"\r\n                    [id]=\"input.name\"\r\n                    pInputText\r\n                />\r\n                <label>{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- keyfilter/number -->\r\n            <span *ngSwitchCase=\"'number'\" class=\"p-float-label\">\r\n                <input\r\n                    [tabindex]=\"input.tabindex\"\r\n                    class=\"textInput\"\r\n                    type=\"text\"\r\n                    [formControlName]=\"input.name\"\r\n                    [id]=\"input.name\"\r\n                    pKeyFilter=\"num\"\r\n                    pInputText\r\n                />\r\n                <label>{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- slider -->\r\n            <span *ngSwitchCase=\"'slider'\" class=\"p-float-label\">\r\n                <p-slider\r\n                    [tabindex]=\"input.tabindex\"\r\n                    [formControlName]=\"input.name\"\r\n                    [id]=\"input.name\"\r\n                    [min]=\"input.min\"\r\n                    [max]=\"input.max\"\r\n                    [step]=\"input.step\"\r\n                ></p-slider>\r\n                <label>{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- Mask -->\r\n            <span *ngSwitchCase=\"'mask'\">\r\n                <p-inputMask\r\n                    [tabindex]=\"input.tabindex\"\r\n                    [mask]=\"input.mask\"\r\n                    [id]=\"input.name\"\r\n                    [formControl]=\"form.controls[input.name]\"\r\n                ></p-inputMask>\r\n                <label>{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- Spinner -->\r\n            <span *ngSwitchCase=\"'spinner'\">\r\n                <p-spinner\r\n                    [tabindex]=\"input.tabindex\"\r\n                    [id]=\"input.name\"\r\n                    [min]=\"input.min\"\r\n                    [max]=\"input.max\"\r\n                    [formControl]=\"form.controls[input.name]\"\r\n                ></p-spinner>\r\n                <label>{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- TextArea -->\r\n            <span *ngSwitchCase=\"'textarea'\" class=\"p-float-label\">\r\n                <textarea\r\n                    class=\"textInput\"\r\n                    [tabindex]=\"input.tabindex\"\r\n                    [rows]=\"input.rows\"\r\n                    [placeholder]=\"input.label\"\r\n                    pInputTextarea\r\n                    [formControlName]=\"input.name\"\r\n                ></textarea>\r\n            </span>\r\n\r\n            <!-- Checkbox -->\r\n            <span *ngSwitchCase=\"'checkbox'\">\r\n                <p-checkbox\r\n                    [tabindex]=\"input.tabindex\"\r\n                    binary=\"true\"\r\n                    [label]=\"input.label\"\r\n                    [id]=\"input.name\"\r\n                    [formControl]=\"form.controls[input.name]\"\r\n                >\r\n                </p-checkbox>\r\n            </span>\r\n\r\n            <!-- Simple DropDown -->\r\n            <span class=\"p-float-label\" *ngSwitchCase=\"'dropdown'\">\r\n                <p-dropdown\r\n                    [style]=\"{ width: '100%' }\"\r\n                    [tabindex]=\"input.tabindex\"\r\n                    appendTo=\"body\"\r\n                    class=\"dropdownInput\"\r\n                    [id]=\"input.name\"\r\n                    showClear=\"true\"\r\n                    [options]=\"dataSourceLookup[input.name]\"\r\n                    [filter]=\"input.selectFilter\"\r\n                    dataKey=\"value\"\r\n                    optionLabel=\"display\"\r\n                    [formControlName]=\"input.name\"\r\n                    #dropDown\r\n                ></p-dropdown>\r\n                <label [for]=\"input.name\">{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- DropDown Returns Object -->\r\n            <span *ngSwitchCase=\"'dropdownobject'\" class=\"p-float-label\" >\r\n                <p-dropdown\r\n                    appendTo=\"body\"\r\n                    [style]=\"{ width: '100%' }\"\r\n                    class=\"dropdownInput\"\r\n                    [id]=\"input.name\"\r\n                    [options]=\"dataSourceLookup[input.name]\"\r\n                    [filter]=\"input.selectFilter\"\r\n                    showClear=\"true\"\r\n                    [tabindex]=\"input.tabindex\"\r\n                    optionLabel=\"display\"\r\n                    [formControlName]=\"input.name\"\r\n                    #dropDown\r\n                ></p-dropdown>\r\n                <label [for]=\"input.name\">{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- AutoComplete -->\r\n            <p-autoComplete\r\n                *ngSwitchCase=\"'autocomplete'\"\r\n                [style]=\"{ width: '100%' }\"\r\n                appendTo=\"body\"\r\n                dataKey=\"value\"\r\n                [tabindex]=\"input.tabindex\"\r\n                field=\"display\"\r\n                [dropdown]=\"true\"\r\n                [formControlName]=\"input.name\"\r\n                [suggestions]=\"dataSourceLookup[input.name]\"\r\n                (completeMethod)=\"searchAutoComplete($event, input)\"\r\n                [placeholder]=\"getLabel(input)\"\r\n            ></p-autoComplete>\r\n\r\n            <!-- Chips -->\r\n            <span *ngSwitchCase=\"'chips'\" class=\"p-float-label\">\r\n                <p-chips [tabindex]=\"input.tabindex\" [id]=\"input.name\" [placeholder]=\"input.label\" [formControlName]=\"input.name\"></p-chips>\r\n            </span>\r\n\r\n            <!-- multiselect -->\r\n            <span *ngSwitchCase=\"'multiselect'\" class=\"p-float-label\">\r\n                <!-- <label class=\"small-label\" [for]=\"input.name\">{{getLabel(input)}}</label> -->\r\n                <p-multiSelect\r\n                    [tabindex]=\"input.tabindex\"\r\n                    [id]=\"input.name\"\r\n                    class=\"multi-select\"\r\n                    [filterPlaceHolder]=\"input.name\"\r\n                    [formControlName]=\"input.name\"\r\n                    [filter]=\"false\"\r\n                    appendTo=\"body\"\r\n                    optionLabel=\"display\"\r\n                    dataKey=\"value\"\r\n                    [options]=\"dataSourceLookup[input.name]\"\r\n                ></p-multiSelect>\r\n            </span>\r\n\r\n            <!-- InputSwitch -->\r\n            <span *ngSwitchCase=\"'switch'\">\r\n                <p-inputSwitch [tabindex]=\"input.tabindex\" [id]=\"input.name\" [formControlName]=\"input.name\"> </p-inputSwitch>\r\n                <label class=\"switch-label\">{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- DateTime -->\r\n            <span *ngSwitchCase=\"'datetime'\" class=\"p-float-label\">\r\n                <p-calendar\r\n                    [tabindex]=\"input.tabindex\"\r\n                    appendTo=\"body\"\r\n                    [showButtonBar]=\"appSettings.getBoolean('inputDateShowButtonBar') | async\"\r\n                    [showIcon]=\"appSettings.getBoolean('inputShowCalendarIcon') | async\"\r\n                    [dateFormat]=\"appSettings.getString('inputDateFormat') | async\"\r\n                    showTime=\"true\"\r\n                    hourFormat=\"24\"\r\n                    [formControlName]=\"input.name\"\r\n                    [id]=\"input.name\"\r\n                >\r\n                </p-calendar>\r\n                <label>{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- DateTime UTC -->\r\n            <span *ngSwitchCase=\"'datetimeUTC'\" class=\"p-float-label\">\r\n                <p-calendar\r\n                    [tabindex]=\"input.tabindex\"\r\n                    appendTo=\"body\"\r\n                    [showButtonBar]=\"appSettings.getBoolean('inputDateShowButtonBar') | async\"\r\n                    [showIcon]=\"appSettings.getBoolean('inputShowCalendarIcon') | async\"\r\n                    [dateFormat]=\"appSettings.getString('inputDateFormat') | async\"\r\n                    showTime=\"true\"\r\n                    hourFormat=\"24\"\r\n                    [formControlName]=\"input.name\"\r\n                    [id]=\"input.name\"\r\n                >\r\n                </p-calendar>\r\n                <label>{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- Date -->\r\n            <span *ngSwitchCase=\"'date'\" class=\"p-float-label\">\r\n                <p-calendar\r\n                    appendTo=\"body\"\r\n                    [tabindex]=\"input.tabindex\"\r\n                    [showButtonBar]=\"appSettings.getBoolean('inputDateShowButtonBar') | async\"\r\n                    [showIcon]=\"appSettings.getBoolean('inputShowCalendarIcon') | async\"\r\n                    [dateFormat]=\"appSettings.getString('inputDateFormat') | async\"\r\n                    [formControlName]=\"input.name\"\r\n                    [id]=\"input.name\"\r\n                >\r\n                </p-calendar>\r\n                <label>{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- Time -->\r\n            <span *ngSwitchCase=\"'time'\" class=\"p-float-label\">\r\n                <p-calendar\r\n                    appendTo=\"body\"\r\n                    [tabindex]=\"input.tabindex\"\r\n                    timeOnly=\"true\"\r\n                    showTime=\"true\"\r\n                    [showButtonBar]=\"appSettings.getBoolean('inputDateShowButtonBar') | async\"\r\n                    hourFormat=\"24\"\r\n                    [showIcon]=\"appSettings.getBoolean('inputShowCalendarIcon') | async\"\r\n                    [formControlName]=\"input.name\"\r\n                    [id]=\"input.name\"\r\n                >\r\n                </p-calendar>\r\n                <label>{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- JSon Edit -->\r\n            <span *ngSwitchCase=\"'json'\" class=\"p-float-label\">\r\n                <json-editor [tabindex]=\"input.tabindex\" [options]=\"editorOptions\" [data]=\"input.value\"></json-editor>\r\n                <label>{{ getLabel(input) }}</label>\r\n            </span>\r\n\r\n            <!-- File Attachment -->\r\n            <span *ngSwitchCase=\"'fileattach'\" class=\"p-float-label\">\r\n                <p-fileUpload\r\n                    [tabindex]=\"input.tabindex\"\r\n                    customUpload=\"true\"\r\n                    [accept]=\"input.accept || this.allowedFileTypes\"\r\n                    [maxFileSize]=\"input.maxFileSize || this.maxFileSize\"\r\n                    chooseLabel=\"{{ 'Choose File' | translate }}\"\r\n                    auto=\"true\"\r\n                    (uploadHandler)=\"attachFiles($event, input)\"\r\n                ></p-fileUpload>\r\n            </span>\r\n\r\n            <!-- Search Text -->\r\n            <div *ngSwitchCase=\"'search'\" class=\"ui-inputgroup\">\r\n                <span class=\"p-float-label\">\r\n                    <input style=\"width: 100%;\" type=\"text\" [tabindex]=\"input.tabindex\" [formControlName]=\"input.name\" [id]=\"input.name\" pInputText />\r\n                    <label>{{ getLabel(input) }}</label>\r\n                </span>\r\n                <button pButton type=\"button\" icon=\"ui-icon-search\"></button>\r\n            </div>\r\n\r\n            <!-- Dynamic -->\r\n            <span *ngSwitchCase=\"'dynamic'\" class=\"p-float-label\">\r\n                <div class=\"textInput\" [id]=\"input.name\">{{ loadComponent(input) }}</div>\r\n            </span>\r\n\r\n            <!-- DEFUALT textbox -->\r\n            <span *ngSwitchDefault class=\"p-float-label\">\r\n                <input type=\"text\" [tabindex]=\"input.tabindex\" [formControlName]=\"input.name\" [id]=\"input.name\" pInputText />\r\n                <label>{{ getLabel(input) }}</label>\r\n            </span>\r\n        </div>\r\n\r\n        <!-- Help text here -->\r\n        <span *ngIf=\"input.help\" class=\"p-col-1\">\r\n            <i class=\"fa ui-icon-info helpIcon\" pTooltip=\"{{ input.help }}\" tooltipPosition=\"bottom\"></i>\r\n        </span>\r\n\r\n        <div\r\n            class=\"ui-message ui-messages-error ui-corner-all\"\r\n            *ngIf=\"form.get(input.name)?.invalid && (form.get(input.name)?.dirty || form.get(input.name)?.touched || formSubmitted)\"\r\n        >\r\n            <div *ngIf=\"form.get(input.name).errors.required\">\r\n                {{ input.validateRequired }}\r\n            </div>\r\n            <div *ngIf=\"form.get(input.name).errors.requiredTrue\">\r\n                {{ input.validateRequiredTrue }}\r\n            </div>\r\n            <div *ngIf=\"form.get(input.name).errors.email\">\r\n                {{ input.validateEmail }}\r\n            </div>\r\n            <div *ngIf=\"form.get(input.name).errors.pattern\">\r\n                {{ input.validatePatternMessage }}\r\n            </div>\r\n            <div *ngIf=\"form.get(input.name).errors.minlength\">\r\n                {{ input.validateMinLengthMessage }}\r\n            </div>\r\n            <div *ngIf=\"form.get(input.name).errors.maxlength\">\r\n                {{ input.validateMaxLengthMessage }}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- [className]=\"controlStyle\" -->\r\n    <div\r\n        class=\"button-line\"\r\n        class=\"p-col-12\"\r\n        *ngIf=\"inputBuilderDefinition.customButtonText || inputBuilderDefinition.cancelButtonText || inputBuilderDefinition.okButtonText\"\r\n    >\r\n        <div class=\"button-container p-col-3\" *ngIf=\"inputBuilderDefinition.customButtonText\">\r\n            <button\r\n                pButton\r\n                type=\"button\"\r\n                (click)=\"onCustom()\"\r\n                class=\"p-button-info\"\r\n                icon=\"{{ inputBuilderDefinition.customButtonIcon }}\"\r\n                iconPos=\"left\"\r\n                label=\"{{ inputBuilderDefinition.customButtonText }}\"\r\n            ></button>\r\n        </div>\r\n        <div class=\"button-container p-col-3\" *ngIf=\"inputBuilderDefinition.cancelButtonText\">\r\n            <button\r\n                pButton\r\n                type=\"button\"\r\n                (click)=\"onCancel()\"\r\n                class=\"p-button-warning\"\r\n                icon=\"{{ inputBuilderDefinition.cancelButtonIcon }}\"\r\n                iconPos=\"left\"\r\n                label=\"{{ inputBuilderDefinition.cancelButtonText }}\"\r\n            ></button>\r\n        </div>\r\n        <div class=\"button-container p-col-3\" *ngIf=\"inputBuilderDefinition.okButtonText\">\r\n            <button\r\n                pButton\r\n                type=\"submit\"\r\n                class=\"p-button-success\"\r\n                icon=\"{{ inputBuilderDefinition.okButtonIcon }}\"\r\n                iconPos=\"left\"\r\n                label=\"{{ inputBuilderDefinition.okButtonText }}\"\r\n            ></button>\r\n        </div>\r\n    </div>\r\n</form>\r\n","import {\r\n    Component,\r\n    Input,\r\n    Output,\r\n    EventEmitter,\r\n    OnInit,\r\n    OnChanges,\r\n    SimpleChanges,\r\n    ChangeDetectionStrategy,\r\n    ChangeDetectorRef,\r\n    ViewChildren,\r\n    QueryList,\r\n    ElementRef\r\n} from '@angular/core';\r\nimport { Observable, of, forkJoin } from 'rxjs';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\n\r\nimport { JsonEditorComponent, JsonEditorOptions } from 'ang-jsoneditor';\r\n\r\nimport { Dropdown } from 'primeng/dropdown';\r\nimport { tap, map, switchMap, filter, debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\nimport {\r\n    AppSettingsService,\r\n    AppSettingsQuery,\r\n    UserAuthenticationQuery,\r\n    ReferenceValuesService,\r\n    ComponentLoaderService,\r\n    UserAuthenticationBase\r\n} from '@ngscaffolding/core';\r\nimport {\r\n    InputBuilderDefinition,\r\n    InputDetail,\r\n    InputDynamic,\r\n    AppSettings,\r\n    InputDetailReferenceValues,\r\n    ZuluDateHelper,\r\n    OrientationValues,\r\n    InputLocations,\r\n    ReferenceValue,\r\n    InputTypes,\r\n    InputDetailDateTime,\r\n    ReferenceValueItem,\r\n    ObjectPathHelper\r\n} from '@ngscaffolding/models';\r\n\r\n@Component({\r\n    selector: 'ngs-input-builder',\r\n    templateUrl: 'inputBuilder.component.html',\r\n    styleUrls: ['inputBuilder.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class InputBuilderComponent implements OnInit, OnChanges {\r\n    constructor(\r\n        private elementRef: ElementRef,\r\n        private ref: ChangeDetectorRef,\r\n        public appSettings: AppSettingsService,\r\n        public appSettingsQuery: AppSettingsQuery,\r\n        private authQuery: UserAuthenticationQuery,\r\n        public refValuesService: ReferenceValuesService,\r\n        private componentLoader: ComponentLoaderService,\r\n        private authService: UserAuthenticationBase\r\n    ) {\r\n        this.editorOptions = new JsonEditorOptions();\r\n        this.editorOptions.modes = ['code', 'text', 'tree', 'view']; // set all allowed modes\r\n    }\r\n\r\n    @Input() inputBuilderDefinition: InputBuilderDefinition;\r\n    @Input() inputModel: any;\r\n\r\n    @Output() modelUpdated = new EventEmitter<object>();\r\n    @Output() valueUpdated = new EventEmitter<[string, object]>();\r\n    @Output() fileAttached = new EventEmitter<string>();\r\n\r\n    @Output() okClicked = new EventEmitter<[object, string]>();\r\n    @Output() cancelClicked = new EventEmitter<any>();\r\n\r\n    @ViewChildren('dropDown') dropDownChildren: QueryList<Dropdown>;\r\n\r\n    private clonedInputModel: any;\r\n    private fileContent: string;\r\n\r\n    filteredInputDetails: InputDetail[];\r\n\r\n    formBuilt = false;\r\n    form: FormGroup;\r\n    controlStyle = 'p-col-12';\r\n    containerClass = 'p-col-12'; // This changes to allow the help Icon\r\n    editorOptions: JsonEditorOptions;\r\n    formSubmitted = false;\r\n    dataSourceLookup = {};\r\n    maxFileSize: number;\r\n    allowedFileTypes: string;\r\n\r\n    public formRendered$: Observable<any>;\r\n\r\n    public getLabel(input: InputDetail) {\r\n        if (input.label) {\r\n            return input.label;\r\n        } else if (input.name) {\r\n            return input.name.replace(/([A-Z]+)/g, ' $1').replace(/([A-Z][a-z])/g, ' $1');\r\n        }\r\n    }\r\n\r\n    loadComponent(input: InputDynamic) {\r\n        this.componentLoader.loadComponent(input.angularComponent).then(element => {\r\n            this.elementRef.nativeElement.querySelector(`#${input.name}`).appendChild(element);\r\n        });\r\n    }\r\n\r\n    onSubmit(form: any) {\r\n        this.formSubmitted = true;\r\n        if (this.form.valid) {\r\n            if (this.inputBuilderDefinition.okButtonCallBack) {\r\n                this.inputBuilderDefinition.okButtonCallBack(this.clonedInputModel);\r\n            }\r\n\r\n            this.okClicked.emit([this.clonedInputModel, this.fileContent]);\r\n        }\r\n    }\r\n\r\n    onCancel() {\r\n        if (this.inputBuilderDefinition.cancelButtonCallBack) {\r\n            this.inputBuilderDefinition.cancelButtonCallBack(this.clonedInputModel);\r\n        }\r\n\r\n        this.cancelClicked.emit();\r\n    }\r\n\r\n    onCustom() {\r\n        if (this.inputBuilderDefinition.customButtonCallBack) {\r\n            this.inputBuilderDefinition.customButtonCallBack(this.clonedInputModel);\r\n        }\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.inputModel && changes.inputModel.currentValue !== changes.inputModel.previousValue) {\r\n            this.formBuilt = false;\r\n        }\r\n\r\n        if (\r\n            changes.inputBuilderDefinition &&\r\n            changes.inputBuilderDefinition.currentValue !== changes.inputBuilderDefinition.previousValue\r\n        ) {\r\n            this.formBuilt = false;\r\n        }\r\n\r\n        this.buildForm();\r\n    }\r\n\r\n    private decorateInputModel() {\r\n        // Add in standard Values\r\n        const currentUser = this.authQuery.getValue().userDetails;\r\n        const now = new Date();\r\n        this.clonedInputModel['now'] = now;\r\n        this.clonedInputModel['zuluDate'] = new Date(\r\n            Date.UTC(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours(), now.getMinutes(), now.getSeconds())\r\n        );\r\n\r\n        this.clonedInputModel['userId'] = currentUser.userId;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.maxFileSize = this.appSettingsQuery.hasEntity(AppSettings.maximumFileSize)\r\n            ? this.appSettingsQuery.getEntity(AppSettings.maximumFileSize).value\r\n            : 999999;\r\n\r\n        this.allowedFileTypes = this.appSettingsQuery.hasEntity(AppSettings.allowedFileTypes)\r\n            ? this.appSettingsQuery.getEntity(AppSettings.allowedFileTypes).value\r\n            : '';\r\n    }\r\n\r\n    getContainerClass(inputDetail: InputDetail) {\r\n        return inputDetail.help ? 'p-col-11' : 'p-col-12';\r\n    }\r\n\r\n    attachFiles(event: any, input: InputDetail) {\r\n        if (this.inputBuilderDefinition.loadFileContent) {\r\n            if (event.files && event.files.length > 0) {\r\n                for (const file of event.files) {\r\n                    const fileReader = new FileReader();\r\n                    fileReader.onload = () => {\r\n                        // this 'text' is the content of the file\r\n                        this.fileContent = fileReader.result.toString();\r\n                        this.fileAttached.emit(this.fileContent);\r\n                    };\r\n                    fileReader.readAsText(file);\r\n                }\r\n            }\r\n        } else {\r\n            this.fieldChanged(input, event.files[0]);\r\n        }\r\n    }\r\n\r\n    searchAutoComplete($event, input: InputDetailReferenceValues) {\r\n        this.loadDataSource(input, $event.query).subscribe(data => {\r\n            this.dataSourceLookup[input.name] = data.referenceValueItems;\r\n            setTimeout(() => {\r\n                this.ref.detectChanges();\r\n            }, 50);\r\n        });\r\n    }\r\n\r\n    private getDefaultValue(value: any) {\r\n        switch (value) {\r\n            case 'today':\r\n            case 'now':\r\n                return ZuluDateHelper.getGMTDate(new Date());\r\n                break;\r\n            case 'yesterday': {\r\n                const now = new Date();\r\n                return ZuluDateHelper.getGMTDate(new Date(now.setDate(now.getDate() - 1)));\r\n                break;\r\n            }\r\n            case 'tomorrow': {\r\n                const now = new Date();\r\n                return ZuluDateHelper.getGMTDate(new Date(now.setDate(now.getDate() + 1)));\r\n                break;\r\n            }\r\n            default:\r\n                return value;\r\n                break;\r\n        }\r\n    }\r\n\r\n    private buildForm() {\r\n        if (this.formBuilt || !this.inputBuilderDefinition || !this.inputModel) {\r\n            return;\r\n        }\r\n\r\n        this.formBuilt = true;\r\n\r\n        // Clone our inputModel\r\n        this.clonedInputModel = { ...this.inputModel };\r\n        this.decorateInputModel();\r\n\r\n        // Default to full width (changes if help found)\r\n        this.containerClass = 'p-col-12';\r\n\r\n        if (\r\n            this.inputBuilderDefinition.orientation === OrientationValues.Horizontal ||\r\n            this.inputBuilderDefinition.inputLocation === InputLocations.INLINE\r\n        ) {\r\n            if (this.inputBuilderDefinition.columnCount > 0 && this.inputBuilderDefinition.columnCount < 5) {\r\n                const colSize = 12 / this.inputBuilderDefinition.columnCount;\r\n                this.controlStyle = `p-col-${colSize}`;\r\n            }\r\n        } else {\r\n            this.controlStyle = 'p-col-12';\r\n        }\r\n        const formGroup = {};\r\n\r\n        const localModel = {};\r\n\r\n        const asyncGets: Array<Observable<ReferenceValue>> = [];\r\n\r\n        // Always have one to run\r\n        asyncGets.push(of(new ReferenceValue()));\r\n\r\n        if (this.inputBuilderDefinition.inputDetails) {\r\n            this.filteredInputDetails = this.authService.filterItemsByRole(this.inputBuilderDefinition.inputDetails);\r\n            for (const inputDetail of this.filteredInputDetails) {\r\n                // Get value from model and apply to new FormControl\r\n                let inputValue: any = null;\r\n                if (ObjectPathHelper.get(this.clonedInputModel, inputDetail.name)) {\r\n                    // If we have a passed value in the model, set the control value to this\r\n                    inputValue = this.parseValue(inputDetail, ObjectPathHelper.get(this.clonedInputModel, inputDetail.name));\r\n                } else if (inputDetail.value) {\r\n                    // If we have a value passed in the Input definition set the control value to this.\r\n                    inputValue = this.getDefaultValue(inputDetail.value);\r\n                    ObjectPathHelper.set(this.clonedInputModel, inputDetail.name, inputValue);\r\n                } else {\r\n                    // This ensures that the property is set if not passed in\r\n                    ObjectPathHelper.set(this.clonedInputModel, inputDetail.name, null);\r\n                }\r\n\r\n                const formControl = new FormControl(inputValue, this.mapValidators(inputDetail)); // Validators passed here too\r\n\r\n                // Readonly\r\n                if (inputDetail.readonly) {\r\n                    formControl.disable();\r\n                }\r\n\r\n                // Remember for dependecy check in a mo\r\n                ObjectPathHelper.set(localModel, inputDetail.name, inputValue);\r\n\r\n                if (inputDetail.type !== InputTypes.search) {\r\n                    formControl.valueChanges.subscribe(changes => {\r\n                        this.fieldChanged(inputDetail, changes);\r\n                    });\r\n                } else {\r\n                    // Handle debounce for search boxes\r\n                    formControl.valueChanges\r\n                        .pipe(\r\n                            debounceTime(500),\r\n                            distinctUntilChanged(),\r\n                            tap(text => {\r\n                                this.fieldChanged(inputDetail, text);\r\n                            })\r\n                        )\r\n                        .subscribe();\r\n                }\r\n\r\n                formGroup[inputDetail.name] = formControl;\r\n\r\n                if (inputDetail['datasourceItems'] && inputDetail['datasourceItems'].length > 0) {\r\n                    // Pre loaded datasourceItems\r\n                    this.dataSourceLookup[inputDetail.name] = inputDetail['datasourceItems'];\r\n                    this.manipulateValuesToObjects(formControl, inputDetail as InputDetailReferenceValues, inputValue);\r\n                } else if (\r\n                    inputDetail.type !== InputTypes.autocomplete &&\r\n                    inputDetail.hasOwnProperty('referenceValueName') &&\r\n                    (<InputDetailReferenceValues>inputDetail).referenceValueName\r\n                ) {\r\n                    // If Datasource, get the values\r\n\r\n                    // Do we need a seed value\r\n                    let seed = '';\r\n                    if ((<InputDetailReferenceValues>inputDetail).referenceValueSeedDependency) {\r\n                        seed = this.clonedInputModel[(<InputDetailReferenceValues>inputDetail).referenceValueSeedDependency];\r\n                    }\r\n                    asyncGets.push(\r\n                        this.loadDataSource(inputDetail, seed).pipe(\r\n                            tap(data => {\r\n                                this.dataSourceLookup[inputDetail.name] = data.referenceValueItems;\r\n                                this.manipulateValuesToObjects(formControl, inputDetail as InputDetailReferenceValues, inputValue);\r\n                            })\r\n                        )\r\n                    );\r\n                }\r\n            }\r\n\r\n            // Now re-loop notifying any dependencies\r\n            for (const inputDetail of this.filteredInputDetails) {\r\n                this.checkForDependencies(inputDetail, localModel[inputDetail.name]);\r\n            }\r\n        }\r\n\r\n        this.formRendered$ = forkJoin(asyncGets);\r\n        this.formRendered$.subscribe(results => {\r\n            console.log('Form rendering');\r\n            this.form = new FormGroup(formGroup);\r\n        });\r\n\r\n        const formValidators = [];\r\n        if (this.inputBuilderDefinition.customValidators) {\r\n            this.inputBuilderDefinition.customValidators.forEach(validator => {\r\n                formValidators.push({});\r\n            });\r\n        }\r\n\r\n        this.form = new FormGroup(formGroup, formValidators);\r\n    }\r\n\r\n    private manipulateValuesToObjects(formControl: FormControl, inputDetail: InputDetailReferenceValues, inputValue: any) {\r\n        if (inputDetail.type === InputTypes.multiselect) {\r\n            if (inputValue) {\r\n                const foundValues = this.dataSourceLookup[inputDetail.name].filter(ds => inputValue.includes(ds.value));\r\n                setTimeout(_ => {\r\n                    formControl.setValue(foundValues, {\r\n                        onlySelf: true,\r\n                        emitEvent: false\r\n                    });\r\n                }, 10);\r\n            }\r\n        } else {\r\n            // Now we have the values, find the ReferenceValue that matches the inputValue from above\r\n            if (this.clonedInputModel[inputDetail.name] && this.dataSourceLookup[inputDetail.name]) {\r\n                if (inputValue) {\r\n                    let foundInputValue;\r\n                    if (inputValue === 'first') {\r\n                        foundInputValue = this.dataSourceLookup[inputDetail.name][0];\r\n                    } else {\r\n                        foundInputValue = this.dataSourceLookup[inputDetail.name] // tslint:disable-next-line:triple-equals\r\n                            .find(ds => ds.value && ds.value.toString() == inputValue.toString()); // Full on corecion\r\n                    }\r\n                    if (foundInputValue) {\r\n                        setTimeout(_ => {\r\n                            formControl.setValue(foundInputValue, {\r\n                                onlySelf: true,\r\n                                emitEvent: false\r\n                            });\r\n                        }, 10);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private parseValue(inputDetail: InputDetail, value: string): any {\r\n        switch (inputDetail.type) {\r\n            case InputTypes.checkbox:\r\n            case InputTypes.switch: {\r\n                return value.toString() === 'true' || value.toString() === 'True' || value.toString() === '1';\r\n            }\r\n            case InputTypes.number:\r\n            case InputTypes.rating:\r\n            case InputTypes.spinner: {\r\n                return Number(value);\r\n            }\r\n            case InputTypes.date:\r\n            case InputTypes.datetime:\r\n            case InputTypes.time: {\r\n                const valueAsDate = new Date(value);\r\n                if ((<InputDetailDateTime>inputDetail).forceUTC) {\r\n                    return ZuluDateHelper.getGMTDate(valueAsDate);\r\n                } else {\r\n                    return valueAsDate;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Default just pass back original\r\n        return value;\r\n    }\r\n\r\n    private fieldChanged(inputDetail: InputDetail, value: any) {\r\n        let returnedValue: any;\r\n\r\n        // If we are any 'Object' type input just return the object. Simples.\r\n        if (inputDetail.type && inputDetail.type.endsWith('object')) {\r\n            returnedValue = value;\r\n        } else if (inputDetail.type === InputTypes.fileattach) {\r\n            returnedValue = value;\r\n        } else if (\r\n            (inputDetail.type && inputDetail.type === InputTypes.date) ||\r\n            inputDetail.type === InputTypes.datetime ||\r\n            inputDetail.type === InputTypes.time\r\n        ) {\r\n            if ((<InputDetailDateTime>inputDetail).forceUTC) {\r\n                returnedValue = ZuluDateHelper.setGMTDate(value);\r\n            } else {\r\n                returnedValue = value;\r\n            }\r\n        } else if (inputDetail.type === InputTypes.spinner) {\r\n            returnedValue = Number(value);\r\n        } else if (inputDetail.type && inputDetail.type === InputTypes.multiselect) {\r\n            // This is an array\r\n            if (Array.isArray(value)) {\r\n                const asArray = value as Array<ReferenceValueItem>;\r\n                returnedValue = asArray.map(refVal => refVal.value);\r\n            } else {\r\n                returnedValue = [];\r\n            }\r\n        } else {\r\n            if (value) {\r\n                returnedValue = value.toString();\r\n            } else {\r\n                returnedValue = null;\r\n            }\r\n\r\n            if (value && value.hasOwnProperty('value')) {\r\n                returnedValue = value.value;\r\n            } else {\r\n                returnedValue = value;\r\n            }\r\n        }\r\n\r\n        // Update listeners\r\n        this.valueUpdated.emit([inputDetail.name, returnedValue]);\r\n\r\n        // Do We need to notify another input of this change?\r\n        this.checkForDependencies(inputDetail, returnedValue);\r\n\r\n        // Flatten out Objects to value\r\n        const updatedModel = Object.assign({}, this.clonedInputModel);\r\n\r\n        updatedModel[inputDetail.name] = returnedValue;\r\n\r\n        // Tell subscribers we have changes\r\n        this.modelUpdated.emit(updatedModel);\r\n        this.clonedInputModel = updatedModel;\r\n    }\r\n\r\n    private checkForDependencies(inputDetail: InputDetail, updatedValue: any) {\r\n        this.filteredInputDetails.forEach(input => {\r\n            if (\r\n                this.form &&\r\n                input.hasOwnProperty('referenceValueSeedDependency') &&\r\n                (<InputDetailReferenceValues>input).referenceValueSeedDependency &&\r\n                (<InputDetailReferenceValues>input).referenceValueSeedDependency === inputDetail.name\r\n            ) {\r\n                this.loadDataSource(input, updatedValue, (<InputDetailReferenceValues>input).referenceValueChildLevel).subscribe(data => {\r\n                    this.dataSourceLookup[input.name] = data.referenceValueItems;\r\n\r\n                    const formControl = this.form.controls[inputDetail.name] as FormControl;\r\n                    this.manipulateValuesToObjects(formControl, inputDetail as InputDetailReferenceValues, formControl.value);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private loadDataSource(inputDetail: InputDetail, seed: string = '', childDepth = 0): Observable<ReferenceValue> {\r\n        return this.refValuesService.getReferenceValue((<InputDetailReferenceValues>inputDetail).referenceValueName, seed, childDepth);\r\n    }\r\n\r\n    private mapValidators(inputDetail: InputDetail) {\r\n        const formValidators = [];\r\n\r\n        if (inputDetail) {\r\n            // Required\r\n            if (inputDetail.validateRequired) {\r\n                formValidators.push(Validators.required);\r\n            }\r\n\r\n            // RequiredTrue\r\n            if (inputDetail.validateRequiredTrue) {\r\n                formValidators.push(Validators.requiredTrue);\r\n            }\r\n\r\n            // EMail\r\n            if (inputDetail.validateEmail) {\r\n                formValidators.push(Validators.email);\r\n            }\r\n\r\n            // Pattern\r\n            if (inputDetail.validatePattern) {\r\n                formValidators.push(Validators.pattern(inputDetail.validatePattern));\r\n            }\r\n\r\n            // Min Length\r\n            if (inputDetail.validateMinLength) {\r\n                formValidators.push(Validators.minLength(inputDetail.validateMinLength));\r\n                if (!inputDetail.validateMinLengthMessage) {\r\n                    inputDetail.validateMinLengthMessage = `${inputDetail.label} must be a minimum length of ${inputDetail.validateMinLength}`;\r\n                }\r\n            }\r\n\r\n            // Max Length\r\n            if (inputDetail.validateMaxLength) {\r\n                formValidators.push(Validators.maxLength(inputDetail.validateMaxLength));\r\n                if (!inputDetail.validateMaxLengthMessage) {\r\n                    inputDetail.validateMaxLengthMessage = `${inputDetail.label} must be a max length of ${inputDetail.validateMinLength}`;\r\n                }\r\n            }\r\n        }\r\n\r\n        return formValidators;\r\n    }\r\n}\r\n","<p-dialog [(visible)]=\"isShown\" [style]=\"styleValues\">\r\n    <p-header>\r\n        {{ inputBuilderDefinition?.title }}\r\n    </p-header>\r\n    <div class=\"ui-fluid\" #popupContainer [style.width.px]=\"setWidth\">\r\n        <ngs-input-builder\r\n            *ngIf=\"isShown\"\r\n            (modelUpdated)=\"notifyChanged($event)\"\r\n            (okClicked)=\"onOkClicked($event)\"\r\n            (cancelClicked)=\"onCancelClicked()\"\r\n            (modelUpdated)=\"onModelUpdated($event)\"\r\n            (valueUpdated)=\"onValueUpdated()\"\r\n            [inputBuilderDefinition]=\"inputBuilderDefinition\"\r\n            [inputModel]=\"inputModel\"\r\n        ></ngs-input-builder>\r\n    </div>\r\n</p-dialog>\r\n","import { Component, Input, Output, EventEmitter, OnDestroy, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { fromEvent, Subscription } from 'rxjs';\r\nimport { InputBuilderDefinition } from '@ngscaffolding/models';\r\n\r\n@Component({\r\n    selector: 'ngs-input-builder-popup',\r\n    templateUrl: 'inputBuilderPopup.component.html',\r\n    styleUrls: ['inputBuilderPopup.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class InputBuilderPopupComponent implements OnDestroy {\r\n    @Input() inputBuilderDefinition: InputBuilderDefinition;\r\n    @Input() attachMouseClick: boolean;\r\n    @Input() inputModel: any;\r\n    @Input() setWidth: number;\r\n    @Input() setTop: number;\r\n    @Input() setLeft: number;\r\n\r\n    @Output() modelUpdated = new EventEmitter<any>();\r\n    @Output() valueUpdated = new EventEmitter<[string, any]>();\r\n\r\n    @Output() okClicked = new EventEmitter<any>();\r\n    @Output() cancelClicked = new EventEmitter<any>();\r\n\r\n    isShown: boolean;\r\n\r\n    private mouseSubscription: Subscription;\r\n    private mouseX: number;\r\n    private mouseY: number;\r\n    private screenWidth: number;\r\n\r\n    constructor(private changeDetector: ChangeDetectorRef) {\r\n        this.mouseSubscription = fromEvent(document.body, 'mousemove').subscribe(e => {\r\n            if (this.attachMouseClick) {\r\n                this.screenWidth = window.innerWidth;\r\n                this.mouseY = e['pageY'];\r\n                this.mouseX = e['pageX'];\r\n                if (this.setWidth) {\r\n                    if (this.mouseX + this.setWidth > this.screenWidth) {\r\n                        this.setLeft = this.mouseX - this.setWidth;\r\n                    } else {\r\n                        this.setLeft = this.mouseX;\r\n                    }\r\n                    this.setTop = this.mouseY;\r\n                } else {\r\n                    this.setLeft = this.mouseX;\r\n                    this.setTop = this.mouseY;\r\n                }\r\n\r\n                if (!this.isShown) {\r\n                    const newStyle: any = { overflow: 'visible', position: 'absolute' };\r\n\r\n                    newStyle.top = `${this.setTop}px`;\r\n                    newStyle.left = `${this.setLeft}px`;\r\n\r\n                    this.styleValues = newStyle;\r\n\r\n                    this.changeDetector.detectChanges();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    styleValues = {\r\n        overflow: 'visible'\r\n    };\r\n\r\n    showPopup() {\r\n        this.isShown = true;\r\n        this.changeDetector.markForCheck();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.mouseSubscription) {\r\n            this.mouseSubscription.unsubscribe();\r\n        }\r\n    }\r\n\r\n    notifyChanged(event: any) {}\r\n\r\n    onModelUpdated(model: any) {\r\n        this.modelUpdated.emit(model);\r\n    }\r\n\r\n    onValueUpdated() {}\r\n\r\n    onOkClicked(model: any) {\r\n        this.okClicked.emit(model);\r\n    }\r\n    onCancelClicked() {\r\n        this.cancelClicked.emit(null);\r\n        this.isShown = false;\r\n        this.changeDetector.markForCheck();\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { CommonModule } from '@angular/common';\nimport { CoreModule } from '@ngscaffolding/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { InputBuilderComponent } from './inputBuilder/inputBuilder.component';\nimport { InputBuilderPopupComponent } from './inputBuilderPopup/inputBuilderPopup.component';\n\nimport { NgJsonEditorModule } from 'ang-jsoneditor';\n\n// Components\nimport { EditableTitleComponent } from './components/editableTitle/editableTitle.component';\nimport { AutoCompleteModule } from 'primeng/autocomplete';\nimport { DialogModule } from 'primeng/dialog';\nimport { EditorModule } from 'primeng/editor';\nimport { ListboxModule } from 'primeng/listbox';\nimport { SelectButtonModule } from 'primeng/selectbutton';\nimport { ColorPickerModule } from 'primeng/colorpicker';\nimport { SliderModule } from 'primeng/slider';\nimport { ChipsModule } from 'primeng/chips';\nimport { InputSwitchModule } from 'primeng/inputswitch';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { InputMaskModule } from 'primeng/inputmask';\nimport { SpinnerModule } from 'primeng/spinner';\nimport { CalendarModule } from 'primeng/calendar';\nimport { TriStateCheckboxModule } from 'primeng/tristatecheckbox';\nimport { InputTextareaModule } from 'primeng/inputtextarea';\nimport { CheckboxModule } from 'primeng/checkbox';\nimport { RadioButtonModule } from 'primeng/radiobutton';\nimport { DropdownModule } from 'primeng/dropdown';\nimport { PasswordModule } from 'primeng/password';\nimport { RatingModule } from 'primeng/rating';\nimport { KeyFilterModule } from 'primeng/keyfilter';\nimport { MultiSelectModule } from 'primeng/multiselect';\nimport { ToggleButtonModule } from 'primeng/togglebutton';\nimport { TooltipModule } from 'primeng/tooltip';\nimport { FileUploadModule } from 'primeng/fileupload';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { SharedModule } from 'primeng/api';\n\n@NgModule({\n    declarations: [EditableTitleComponent, InputBuilderComponent, InputBuilderPopupComponent],\n    imports: [\n        CommonModule,\n        CoreModule,\n        AutoCompleteModule,\n        FormsModule,\n        ReactiveFormsModule,\n        DialogModule,\n        SharedModule,\n        EditorModule,\n        ListboxModule,\n        SelectButtonModule,\n        ColorPickerModule,\n        SliderModule,\n        ChipsModule,\n        ReactiveFormsModule,\n        InputSwitchModule,\n        InputTextModule,\n        InputMaskModule,\n        SpinnerModule,\n        CalendarModule,\n        TriStateCheckboxModule,\n        InputTextareaModule,\n        CheckboxModule,\n        RadioButtonModule,\n        DropdownModule,\n        PasswordModule,\n        RatingModule,\n        KeyFilterModule,\n        MultiSelectModule,\n        ToggleButtonModule,\n        TooltipModule,\n        NgJsonEditorModule,\n        FileUploadModule,\n        TranslateModule.forChild(),\n    ],\n    exports: [EditableTitleComponent, InputBuilderComponent, InputBuilderPopupComponent],\n})\nexport class InputBuilderModule {\n    static forRoot(): ModuleWithProviders<InputBuilderModule> {\n        return {\n            ngModule: InputBuilderModule,\n        };\n    }\n}\n","/*\n * Public API Surface of inputbuilder\n */\n\nexport { EditableTitleComponent } from './lib/components/editableTitle/editableTitle.component';\nexport { InputBuilderComponent } from './lib/inputBuilder/inputBuilder.component';\nexport { InputBuilderPopupComponent } from './lib/inputBuilderPopup/inputBuilderPopup.component';\nexport { InputBuilderModule } from './lib/inputbuilder.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementStart","i0.ɵɵlistener","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵadvance","i0.ɵɵtextInterpolate","i0.ɵɵelement","i0.ɵɵproperty","EventEmitter","i0.ɵɵtemplate","Component","ViewChild","Input","Output","i0.ɵɵstyleMap","i0.ɵɵpropertyInterpolate","i0.ɵɵtextInterpolate1","i0.ɵɵclassProp","JsonEditorOptions","AppSettings","ZuluDateHelper","of","ReferenceValue","ObjectPathHelper","FormControl","InputTypes","debounceTime","distinctUntilChanged","tap","forkJoin","FormGroup","Validators","ChangeDetectionStrategy","ViewChildren","fromEvent","i0.ɵɵstyleProp","CommonModule","CoreModule","AutoCompleteModule","FormsModule","ReactiveFormsModule","DialogModule","SharedModule","EditorModule","ListboxModule","SelectButtonModule","ColorPickerModule","SliderModule","ChipsModule","InputSwitchModule","InputTextModule","InputMaskModule","SpinnerModule","CalendarModule","TriStateCheckboxModule","InputTextareaModule","CheckboxModule","RadioButtonModule","DropdownModule","PasswordModule","RatingModule","KeyFilterModule","MultiSelectModule","ToggleButtonModule","TooltipModule","NgJsonEditorModule","FileUploadModule","TranslateModule","NgModule"],"mappings":"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"}